(()=>{var e={18:e=>{"use strict";e.exports=require("tty")},23:e=>{"use strict";e.exports=require("util")},32:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0;const n=r(355),s=r(157);var o=r(157);function i(e,t,r,o){return(0,s.default)(48,n.default,e,t,r,o)}Object.defineProperty(t,"DNS",{enumerable:!0,get:function(){return o.DNS}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return o.URL}}),i.DNS=s.DNS,i.URL=s.URL,t.default=i},33:(e,t,r)=>{const n=r(18),s=r(23);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(s.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:s}=this;if(s){const t=this.color,s="[3"+(t<8?t:"8;5;"+t),o=`  ${s};1m${n} [0m`;r[0]=o+r[0].split("\n").join("\n"+o),r.push(s+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=s.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(613);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(736)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)}},100:(e,t)=>{"use strict";function r(){let e,t,r="pending";return{promise:new Promise(((r,n)=>{e=r,t=n})),done(t){"pending"===r&&(r="resolved",e(t))},fail(e){"pending"===r&&(r="rejected",t(e))},get fulfilled(){return"pending"!==r},get status(){return r}}}Object.defineProperty(t,"__esModule",{value:!0}),t.createDeferred=t.deferred=void 0,t.deferred=r,t.createDeferred=r,t.default=r},152:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(982);t.default={randomUUID:n.randomUUID}},157:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=t.stringToBytes=void 0;const n=r(524),s=r(202);function o(e){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r);return t}t.stringToBytes=o,t.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",t.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",t.default=function(e,t,r,i,a,c){const u="string"==typeof r?o(r):r,l="string"==typeof i?(0,n.default)(i):i;if("string"==typeof i&&(i=(0,n.default)(i)),16!==i?.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+u.length);if(f.set(l),f.set(u,l.length),f=t(f),f[6]=15&f[6]|e,f[8]=63&f[8]|128,a){c=c||0;for(let e=0;e<16;++e)a[c+e]=f[e];return a}return(0,s.unsafeStringify)(f)}},202:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsafeStringify=void 0;const n=r(873),s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function o(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}t.unsafeStringify=o,t.default=function(e,t=0){const r=o(e,t);if(!(0,n.default)(r))throw TypeError("Stringified UUID is invalid");return r}},265:function(e,t,r){"use strict";var n,s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),i=0;i<r.length;i++)"default"!==r[i]&&s(t,e,r[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=function(){},t.activate=function(e){console.log("Activating Code Review extension");const t=new c.ReviewController(e),r=a.commands.registerCommand("codeReview.showPanel",(async()=>{const e=a.window.activeTextEditor;e&&e.selection?e.selection.isEmpty?a.window.showInformationMessage("请先选择要评审的代码"):await t.showReviewPanel():a.window.showInformationMessage("请先选择要评审的代码")}));e.subscriptions.push(r)};const a=i(r(398)),c=r(730)},317:e=>{"use strict";e.exports=require("child_process")},337:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReviewStore=void 0;const n=r(827);t.ReviewStore=class{context;key="codeReviewComments";constructor(e){this.context=e}async addComment(e){const t=this.getAllComments(),r={...e,id:(0,n.v4)(),createdAt:(new Date).toISOString()};return await this.context.workspaceState.update(this.key,[...t,r]),r}getCommentsByFile(e){return this.getAllComments().filter((t=>t.filePath===e))}getAllComments(){return(this.context.workspaceState.get(this.key)||[]).sort(((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()))}async clearAllComments(){await this.context.workspaceState.update(this.key,[])}}},355:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(982);t.default=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),(0,n.createHash)("md5").update(e).digest()}},398:e=>{"use strict";e.exports=require("vscode")},423:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(896),o=n(r(753)).default("@kwsites/file-exists");t.exists=function(e,r=t.READABLE){return function(e,t,r){o("checking %s",e);try{const n=s.statSync(e);return n.isFile()&&t?(o("[OK] path represents a file"),!0):n.isDirectory()&&r?(o("[OK] path represents a directory"),!0):(o("[FAIL] path represents something other than a file or directory"),!1)}catch(e){if("ENOENT"===e.code)return o("[FAIL] path is not accessible: %o",e),!1;throw o("[FATAL] %o",e),e}}(e,(r&t.FILE)>0,(r&t.FOLDER)>0)},t.FILE=1,t.FOLDER=2,t.READABLE=t.FILE+t.FOLDER},458:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV1State=void 0;const n=r(942),s=r(202),o={};function i(e,t,r){return e.msecs??=-1/0,e.nsecs??=0,t===e.msecs?(e.nsecs++,e.nsecs>=1e4&&(e.node=void 0,e.nsecs=0)):t>e.msecs?e.nsecs=0:t<e.msecs&&(e.node=void 0),e.node||(e.node=r.slice(10,16),e.node[0]|=1,e.clockseq=16383&(r[8]<<8|r[9])),e.msecs=t,e}function a(e,t,r,n,s,o,i=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(o){if(i<0||i+16>o.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`)}else o=new Uint8Array(16),i=0;t??=Date.now(),r??=0,n??=16383&(e[8]<<8|e[9]),s??=e.slice(10,16);const a=(1e4*(268435455&(t+=122192928e5))+r)%4294967296;o[i++]=a>>>24&255,o[i++]=a>>>16&255,o[i++]=a>>>8&255,o[i++]=255&a;const c=t/4294967296*1e4&268435455;o[i++]=c>>>8&255,o[i++]=255&c,o[i++]=c>>>24&15|16,o[i++]=c>>>16&255,o[i++]=n>>>8|128,o[i++]=255&n;for(let e=0;e<6;++e)o[i++]=s[e];return o}t.updateV1State=i,t.default=function(e,t,r){let c;const u=e?._v6??!1;if(e){const t=Object.keys(e);1===t.length&&"_v6"===t[0]&&(e=void 0)}if(e)c=a(e.random??e.rng?.()??(0,n.default)(),e.msecs,e.nsecs,e.clockseq,e.node,t,r);else{const e=Date.now(),s=(0,n.default)();i(o,e,s),c=a(s,o.msecs,o.nsecs,u?void 0:o.clockseq,u?void 0:o.node,t,r)}return t??(0,s.unsafeStringify)(c)}},474:e=>{"use strict";e.exports=require("node:events")},486:function(e,t,r){"use strict";var n,s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),i=0;i<r.length;i++)"default"!==r[i]&&s(t,e,r[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ReviewPanel=void 0;const a=i(r(398)),c=r(337);class u{panel;static currentPanel;constructor(e,t,r,n){this.panel=t,this.panel.webview.html=this.getWebviewContent(r,n),this.setupMessageHandler(e),t.onDidDispose((()=>{u.currentPanel=void 0}))}static show(e,t,r){if(u.currentPanel)return void u.currentPanel.panel.reveal();const n=a.window.createWebviewPanel("codeReview","Code Review",a.ViewColumn.Two,{enableScripts:!0});u.currentPanel=new u(e,n,t,r)}setupMessageHandler(e){this.panel.webview.onDidReceiveMessage((async t=>{if("submitComment"===t.command)try{const r=new c.ReviewStore(e);await r.addComment({filePath:t.filePath,startLine:t.startLine,endLine:t.endLine,committer:t.committer,content:t.content}),a.window.showInformationMessage("评论已添加"),u.currentPanel&&(u.currentPanel.panel.dispose(),u.currentPanel=void 0)}catch(e){a.window.showErrorMessage("添加评论失败: "+(e.message||"未知错误"))}else if("confirmClear"===t.command){if("确定"===await a.window.showWarningMessage("确定要清空所有评论吗？此操作不可撤销。",{modal:!0},"确定","取消"))try{const t=new c.ReviewStore(e);this.panel.webview.postMessage({command:"commentsCleared"}),await t.clearAllComments(),a.window.showInformationMessage("所有评论已清空"),this.panel.dispose()}catch(e){a.window.showErrorMessage("清空评论失败: "+(e.message||"未知错误"))}}else"copyToClipboard"===t.command&&(await a.env.clipboard.writeText(t.text),a.window.showInformationMessage("评论已复制到剪贴板"))}))}getWebviewContent(e,t){const r=e.codeContent.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;");return`\n        <html>\n        <head>\n          <style>\n            .comment-list {\n              margin-top: 20px;\n            }\n            .comment-item {\n              border-bottom: 1px solid #ccc;\n              padding: 10px 0;\n            }\n            .comment-header {\n              display: flex;\n              justify-content: space-between;\n              color: #666;\n              font-size: 0.9em;\n            }\n            .comment-content {\n              margin-top: 5px;\n              white-space: pre-wrap;\n            }\n            .file-path {\n              color: #0066cc;\n              font-size: 0.9em;\n            }\n            .comment-lines {\n              color: #666;\n            }\n            .button-group {\n              margin-top: 20px;\n              display: flex;\n              gap: 10px;\n            }\n            .button-group button {\n              padding: 5px 15px;\n              cursor: pointer;\n            }\n            .danger-button {\n              background-color: #dc3545;\n              color: white;\n              border: none;\n              border-radius: 3px;\n            }\n            .copy-button {\n              background-color: #28a745;\n              color: white;\n              border: none;\n              border-radius: 3px;\n            }\n            .committer-buttons {\n              display: flex;\n              gap: 10px;\n              margin-top: 10px;\n            }\n            .committer-button {\n              padding: 8px 15px;\n              cursor: pointer;\n              background-color: #007acc;\n              color: white;\n              border: none;\n              border-radius: 3px;\n              font-size: 14px;\n            }\n            .committer-button:hover {\n              background-color: #005999;\n            }\n            #commentInput {\n              width: 100%;\n              font-family: monospace;\n              padding: 8px;\n              border: 1px solid #ccc;\n              border-radius: 3px;\n              resize: vertical;\n              min-height: 100px;\n            }\n          </style>\n        </head>\n        <body>\n          <h3>Reviewing ${e.filePath}</h3>\n          <p>Lines: ${e.startLine}-${e.endLine}</p>\n          <p>Committer: ${e.committer}</p>\n          \n          <div>\n            <textarea id="commentInput" rows="6" cols="50" placeholder="Enter your review comment...">${r}</textarea>\n            <div class="committer-buttons">\n              <button class="committer-button" onclick="submitComment('启涵')">启涵</button>\n              <button class="committer-button" onclick="submitComment('鹏飞')">鹏飞</button>\n              <button class="committer-button" onclick="submitComment('昕一')">昕一</button>\n              <button class="committer-button" onclick="submitComment('赵祥')">赵祥</button>\n            </div>\n          </div>\n  \n          <div class="comment-list">\n            <h4>Previous Comments (${t.length}):</h4>\n            <div class="button-group">\n              <button class="danger-button" onclick="clearComments()">清空</button>\n              <button class="copy-button" onclick="copyComments()">复制</button>\n            </div>\n            <div id="commentsList">\n              ${t.map((e=>`\n                <div class="comment-item">\n                  <div class="comment-header">\n                    <strong>${e.committer}</strong>\n                    <span>${new Date(e.createdAt).toLocaleString()}</span>\n                  </div>\n                  <div class="file-path">${e.filePath}</div>\n                  <span class="comment-lines">Lines: ${e.startLine}-${e.endLine}</span>\n                  <div class="comment-content">${e.content}</div>\n                </div>\n              `)).join("")}\n            </div>\n          </div>\n  \n          <script>\n            const vscode = acquireVsCodeApi();\n            \n            // 存储代码选择信息\n            const selection = {\n              filePath: "${e.filePath}",\n              startLine: ${e.startLine},\n              endLine: ${e.endLine},\n              committer: "${e.committer}"\n            };\n\n            // 监听来自扩展的消息\n            window.addEventListener('message', event => {\n              const message = event.data;\n              if (message.command === 'commentsCleared') {\n                // 立即清空评论列表\n                const commentsList = document.getElementById('commentsList');\n                commentsList.innerHTML = '';\n                document.querySelector('h4').textContent = 'Previous Comments (0)';\n              }\n            });\n\n            // 在页面加载完成后，将光标移动到文本区域的末尾\n            window.addEventListener('load', () => {\n              const textarea = document.getElementById('commentInput');\n              textarea.focus();\n              textarea.setSelectionRange(textarea.value.length, textarea.value.length);\n            });\n\n            function submitComment(committer) {\n              const input = document.getElementById('commentInput');\n              if (!input.value.trim()) {\n                return; // 不提交空评论\n              }\n              vscode.postMessage({\n                command: 'submitComment',\n                content: input.value,\n                filePath: selection.filePath,\n                startLine: selection.startLine,\n                endLine: selection.endLine,\n                committer: committer\n              });\n            }\n\n            function clearComments() {\n              // 发送确认请求到扩展\n              vscode.postMessage({\n                command: 'confirmClear'\n              });\n            }\n\n            function copyComments() {\n              const comments = Array.from(document.querySelectorAll('.comment-item')).map((item, index) => {\n                const committer = item.querySelector('strong').textContent;\n                const filePath = item.querySelector('.file-path').textContent;\n                const content = item.querySelector('.comment-content').textContent;\n                \n                // 获取文件路径的后三级\n                const pathParts = filePath.split('/');\n                const lastThreeParts = pathParts.slice(-3).join('/');\n                \n                // 返回带序号的新格式 (序号从1开始)\n                return \`\${index + 1}. \${lastThreeParts} \${content} -- \${committer}\`;\n              }).join('\\n');\n\n              // 使用 VSCode API 复制到剪贴板\n              vscode.postMessage({\n                command: 'copyToClipboard',\n                text: comments\n              });\n            }\n          <\/script>\n        </body>\n        </html>\n      `}}t.ReviewPanel=u},502:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0;const n=r(766),s=r(157);var o=r(157);function i(e,t,r,o){return(0,s.default)(80,n.default,e,t,r,o)}Object.defineProperty(t,"DNS",{enumerable:!0,get:function(){return o.DNS}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return o.URL}}),i.DNS=s.DNS,i.URL=s.URL,t.default=i},508:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV7State=void 0;const n=r(942),s=r(202),o={};function i(e,t,r){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,0===e.seq&&e.msecs++),e}function a(e,t,r,n,s=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(n){if(s<0||s+16>n.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`)}else n=new Uint8Array(16),s=0;return t??=Date.now(),r??=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9],n[s++]=t/1099511627776&255,n[s++]=t/4294967296&255,n[s++]=t/16777216&255,n[s++]=t/65536&255,n[s++]=t/256&255,n[s++]=255&t,n[s++]=112|r>>>28&15,n[s++]=r>>>20&255,n[s++]=128|r>>>14&63,n[s++]=r>>>6&255,n[s++]=r<<2&255|3&e[10],n[s++]=e[11],n[s++]=e[12],n[s++]=e[13],n[s++]=e[14],n[s++]=e[15],n}t.updateV7State=i,t.default=function(e,t,r){let c;if(e)c=a(e.random??e.rng?.()??(0,n.default)(),e.msecs,e.seq,t,r);else{const e=Date.now(),s=(0,n.default)();i(o,e,s),c=a(s,o.msecs,o.seq,t,r)}return t??(0,s.unsafeStringify)(c)}},509:function(e,t,r){"use strict";var n,s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),i=0;i<r.length;i++)"default"!==r[i]&&s(t,e,r[i]);return o(t,e),t}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GitHelper=void 0;const c=i(r(928)),u=i(r(896)),l=a(r(662));t.GitHelper=class{static getDirectoryPath(e){return c.dirname(e)}static async getGitRoot(e){try{return(await e.revparse(["--show-toplevel"])).trim()}catch(e){throw console.error("Error getting git root:",e),new Error("Not a git repository. Please initialize a git repository first.")}}static async isGitRepository(e){try{console.log("=== Start isGitRepository ==="),console.log(`Checking if path is in git repository: ${e}`);const t=this.getDirectoryPath(e);if(console.log(`Resolved directory path: ${t}`),!u.existsSync(t))return console.log(`Directory does not exist: ${t}`),!1;console.log("Directory exists and is accessible");const r=(0,l.default)(t);console.log(`Initialized simple-git instance for ${t}`);try{const e=await r.checkIsRepo();return console.log(`Git repository check result: ${e}`),e}catch(e){return console.error("Error in git.checkIsRepo():",e),e instanceof Error&&(console.error("Error details:",e.message),console.error("Error stack:",e.stack)),!1}}catch(e){return console.error("Error in isGitRepository:",e),e instanceof Error&&(console.error("Error details:",e.message),console.error("Error stack:",e.stack)),!1}finally{console.log("=== End isGitRepository ===")}}static async getLineCommitter(e,t){try{console.log("=== Start getLineCommitter ==="),console.log(`Input - filePath: ${e}, line: ${t}`);const r=this.getDirectoryPath(e);if(console.log(`Resolved directory path: ${r}`),!u.existsSync(r))return console.log(`Directory does not exist: ${r}`),"Unknown";console.log(`Directory exists: ${r}`);const n=(0,l.default)(r);console.log("Initialized simple-git instance");const s=await this.isGitRepository(e);if(console.log(`Is Git repository: ${s}`),!s)return console.log("Not a git repository, returning Unknown"),"Unknown";try{const r=await this.getGitRoot(n);console.log(`Git root directory: ${r}`);const s=c.relative(r,e).replace(/\\/g,"/");console.log(`Relative path to git root: ${s}`);try{const e=await n.status(["--porcelain",s]);if(console.log("Git status output:",e),e.files.length>0){const t=e.files[0];if("?"===t.working_dir||"A"===t.working_dir)return console.log("File is untracked or newly added, returning Unknown"),"Unknown"}}catch(e){console.error("Error checking file status:",e)}console.log(`Executing git blame for line ${t}`);const o=await n.raw(["blame","-L",`${t},${t}`,"--porcelain","--",s]);console.log("Git blame raw output:"),console.log(o);const i=o.split("\n");let a="Unknown";for(const e of i)if(e.startsWith("author ")){a=e.substring(7).trim(),console.log(`Found author: ${a}`);break}return"Unknown"===a&&console.log("No author found in blame output"),console.log(`Returning author: ${a}`),a}catch(e){return console.error("Error in git blame operation:",e),e instanceof Error&&(console.error("Error details:",e.message),console.error("Error stack:",e.stack)),e instanceof Error&&e.message.includes("no such path")?(console.log("File is not in version control"),"Untracked"):"Unknown"}}catch(e){return console.error("Error in getLineCommitter:",e),e instanceof Error&&(console.error("Error details:",e.message),console.error("Error stack:",e.stack)),"Unknown"}finally{console.log("=== End getLineCommitter ===")}}}},524:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(873);t.default=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");let t;return Uint8Array.of((t=parseInt(e.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,255&t,(t=parseInt(e.slice(9,13),16))>>>8,255&t,(t=parseInt(e.slice(14,18),16))>>>8,255&t,(t=parseInt(e.slice(19,23),16))>>>8,255&t,(t=parseInt(e.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,255&t)}},547:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(873);t.default=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},585:e=>{var t=1e3,r=60*t,n=60*r,s=24*n,o=7*s;function i(e,t,r,n){var s=t>=1.5*r;return Math.round(e/r)+" "+n+(s?"s":"")}e.exports=function(e,a){a=a||{};var c,u,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var a=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*o;case"days":case"day":case"d":return a*s;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===l&&isFinite(e))return a.long?(c=e,(u=Math.abs(c))>=s?i(c,u,s,"day"):u>=n?i(c,u,n,"hour"):u>=r?i(c,u,r,"minute"):u>=t?i(c,u,t,"second"):c+" ms"):function(e){var o=Math.abs(e);return o>=s?Math.round(e/s)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},588:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="00000000-0000-0000-0000-000000000000"},596:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},597:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(152),s=r(942),o=r(202);t.default=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const i=(e=e||{}).random??e.rng?.()??(0,s.default)();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=i[e];return t}return(0,o.unsafeStringify)(i)}},609:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="ffffffff-ffff-ffff-ffff-ffffffffffff"},613:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createSupportsColor:()=>u,default:()=>l});const n=require("node:process"),s=require("node:os"),o=require("node:tty");function i(e,t=(globalThis.Deno?globalThis.Deno.args:n.argv)){const r=e.startsWith("-")?"":1===e.length?"-":"--",s=t.indexOf(r+e),o=t.indexOf("--");return-1!==s&&(-1===o||s<o)}const{env:a}=n;let c;function u(e,t={}){return 0!==(r=function(e,{streamIsTTY:t,sniffFlags:r=!0}={}){const o=function(){if("FORCE_COLOR"in a)return"true"===a.FORCE_COLOR?1:"false"===a.FORCE_COLOR?0:0===a.FORCE_COLOR.length?1:Math.min(Number.parseInt(a.FORCE_COLOR,10),3)}();void 0!==o&&(c=o);const u=r?c:o;if(0===u)return 0;if(r){if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2}if("TF_BUILD"in a&&"AGENT_NAME"in a)return 1;if(e&&!t&&void 0===u)return 0;const l=u||0;if("dumb"===a.TERM)return l;if("win32"===n.platform){const e=s.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in a)return"GITHUB_ACTIONS"in a||"GITEA_ACTIONS"in a?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some((e=>e in a))||"codeship"===a.CI_NAME?1:l;if("TEAMCITY_VERSION"in a)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION)?1:0;if("truecolor"===a.COLORTERM)return 3;if("xterm-kitty"===a.TERM)return 3;if("TERM_PROGRAM"in a){const e=Number.parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:l}(e,{streamIsTTY:e&&e.isTTY,...t}))&&{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3};var r}i("no-color")||i("no-colors")||i("color=false")||i("color=never")?c=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(c=1);const l={stdout:u({isTTY:o.isatty(1)}),stderr:u({isTTY:o.isatty(2)})}},662:(e,t,r)=>{"use strict";var n,s,o,i=Object.create,a=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,g=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,b=(e,t)=>{for(var r in t||(t={}))h.call(t,r)&&g(e,r,t[r]);if(d)for(var r of d(t))m.call(t,r)&&g(e,r,t[r]);return e},y=(e,t)=>c(e,l(t)),v=(e,t)=>function(){return e&&(t=(0,e[f(e)[0]])(e=0)),t},w=(e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})},k=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of f(t))h.call(e,s)||s===r||a(e,s,{get:()=>t[s],enumerable:!(n=u(t,s))||n.enumerable});return e},_=e=>k(a({},"__esModule",{value:!0}),e),C=(e,t,r)=>new Promise(((n,s)=>{var o=e=>{try{a(r.next(e))}catch(e){s(e)}},i=e=>{try{a(r.throw(e))}catch(e){s(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,i);a((r=r.apply(e,t)).next())})),O=v({"src/lib/errors/git-error.ts"(){n=class extends Error{constructor(e,t){super(t),this.task=e,Object.setPrototypeOf(this,new.target.prototype)}}}}),T=v({"src/lib/errors/git-response-error.ts"(){O(),s=class extends n{constructor(e,t){super(void 0,t||String(e)),this.git=e}}}});function x(...e){const t=new String(e);return o.set(t,e),t}function E(e){return e instanceof String&&o.has(e)}function S(e){return o.get(e)||[]}var P,R,j,M,A,F,D,I=v({"src/lib/args/pathspec.ts"(){o=new WeakMap}}),L=v({"src/lib/errors/git-construct-error.ts"(){O(),P=class extends n{constructor(e,t){super(void 0,t),this.config=e}}}}),$=v({"src/lib/errors/git-plugin-error.ts"(){O(),R=class extends n{constructor(e,t,r){super(e,r),this.task=e,this.plugin=t,Object.setPrototypeOf(this,new.target.prototype)}}}}),U=v({"src/lib/errors/task-configuration-error.ts"(){O(),j=class extends n{constructor(e){super(void 0,e)}}}});function N(e){return"function"==typeof e?e:F}function B(e){return"function"==typeof e&&e!==F}function G(e,t){const r=e.indexOf(t);return r<=0?[e,""]:[e.substr(0,r),e.substr(r+1)]}function q(e,t=0){return H(e)&&e.length>t?e[t]:void 0}function z(e,t=0){if(H(e)&&e.length>t)return e[e.length-1-t]}function H(e){return!(!e||"number"!=typeof e.length)}function V(e="",t=!0,r="\n"){return e.split(r).reduce(((e,r)=>{const n=t?r.trim():r;return n&&e.push(n),e}),[])}function W(e,t){return V(e,!0).map((e=>t(e)))}function K(e){return(0,M.exists)(e,M.FOLDER)}function Y(e,t){return Array.isArray(e)?e.includes(t)||e.push(t):e.add(t),t}function Q(e,t){return Array.isArray(e)&&!e.includes(t)&&e.push(t),e}function X(e,t){if(Array.isArray(e)){const r=e.indexOf(t);r>=0&&e.splice(r,1)}else e.delete(t);return t}function J(e){return Array.isArray(e)?e:[e]}function Z(e){return e.replace(/[\s-]+(.)/g,((e,t)=>t.toUpperCase()))}function ee(e){return J(e).map(String)}function te(e,t=0){if(null==e)return t;const r=parseInt(e,10);return isNaN(r)?t:r}function re(e,t){const r=[];for(let n=0,s=e.length;n<s;n++)r.push(t,e[n]);return r}function ne(e){return(Array.isArray(e)?Buffer.concat(e):e).toString("utf-8")}function se(e,t){return Object.assign({},...t.map((t=>t in e?{[t]:e[t]}:{})))}function oe(e=0){return new Promise((t=>setTimeout(t,e)))}function ie(e){if(!1!==e)return e}var ae,ce,ue,le,fe,de=v({"src/lib/utils/util.ts"(){M=r(926),A="\0",F=()=>{},D=Object.prototype.toString.call.bind(Object.prototype.toString)}});function pe(e,t,r){return t(e)?e:arguments.length>2?r:void 0}function he(e,t){const r=E(e)?"string":typeof e;return/number|string|boolean/.test(r)&&(!t||!t.includes(r))}function me(e){return!!e&&"[object Object]"===D(e)}function ge(e){return"function"==typeof e}var be,ye,ve,we,ke,_e=v({"src/lib/utils/argument-filters.ts"(){de(),I(),ae=e=>Array.isArray(e),ce=e=>"string"==typeof e,ue=e=>Array.isArray(e)&&e.every(ce),le=e=>ce(e)||Array.isArray(e)&&e.every(ce),fe=e=>null!=e&&!"number|boolean|function".includes(typeof e)&&(Array.isArray(e)||"string"==typeof e||"number"==typeof e.length)}}),Ce=v({"src/lib/utils/exit-codes.ts"(){be=(e=>(e[e.SUCCESS=0]="SUCCESS",e[e.ERROR=1]="ERROR",e[e.NOT_FOUND=-2]="NOT_FOUND",e[e.UNCLEAN=128]="UNCLEAN",e))(be||{})}}),Oe=v({"src/lib/utils/git-output-streams.ts"(){ye=class{constructor(e,t){this.stdOut=e,this.stdErr=t}asStrings(){return new ye(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}}}),Te=v({"src/lib/utils/line-parser.ts"(){ve=class{constructor(e,t){this.matches=[],this.parse=(e,t)=>(this.resetMatches(),!!this._regExp.every(((t,r)=>this.addMatch(t,r,e(r))))&&!1!==this.useMatches(t,this.prepareMatches())),this._regExp=Array.isArray(e)?e:[e],t&&(this.useMatches=t)}useMatches(e,t){throw new Error("LineParser:useMatches not implemented")}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(e,t,r){const n=r&&e.exec(r);return n&&this.pushMatch(t,n),!!n}pushMatch(e,t){this.matches.push(...t.slice(1))}},we=class extends ve{addMatch(e,t,r){return/^remote:\s/.test(String(r))&&super.addMatch(e,t,r)}pushMatch(e,t){(e>0||t.length>1)&&super.pushMatch(e,t)}}}});function xe(...e){const t=process.cwd(),r=Object.assign(b({baseDir:t},ke),...e.filter((e=>"object"==typeof e&&e)));return r.baseDir=r.baseDir||t,r.trimmed=!0===r.trimmed,r}var Ee=v({"src/lib/utils/simple-git-options.ts"(){ke={binary:"git",maxConcurrentProcesses:5,config:[],trimmed:!1}}});function Se(e,t=[]){return me(e)?Object.keys(e).reduce(((t,r)=>{const n=e[r];return E(n)?t.push(n):he(n,["boolean"])?t.push(r+"="+n):t.push(r),t}),t):t}function Pe(e,t=0,r=!1){const n=[];for(let r=0,s=t<0?e.length:t;r<s;r++)"string|number".includes(typeof e[r])&&n.push(String(e[r]));return Se(Re(e),n),r||n.push(...function(e){const t="function"==typeof z(e);return pe(z(e,t?1:0),ae,[])}(e)),n}function Re(e){const t=ge(z(e));return pe(z(e,t?1:0),me)}function je(e,t=!0){const r=N(z(e));return t||B(r)?r:void 0}var Me=v({"src/lib/utils/task-options.ts"(){_e(),de(),I()}});function Ae(e,t){return e(t.stdOut,t.stdErr)}function Fe(e,t,r,n=!0){return J(r).forEach((r=>{for(let s=V(r,n),o=0,i=s.length;o<i;o++){const r=(e=0)=>{if(!(o+e>=i))return s[o+e]};t.some((({parse:t})=>t(r,e)))}})),e}var De=v({"src/lib/utils/task-parser.ts"(){de()}}),Ie={};w(Ie,{ExitCodes:()=>be,GitOutputStreams:()=>ye,LineParser:()=>ve,NOOP:()=>F,NULL:()=>A,RemoteLineParser:()=>we,append:()=>Y,appendTaskOptions:()=>Se,asArray:()=>J,asCamelCase:()=>Z,asFunction:()=>N,asNumber:()=>te,asStringArray:()=>ee,bufferToString:()=>ne,callTaskParser:()=>Ae,createInstanceConfig:()=>xe,delay:()=>oe,filterArray:()=>ae,filterFunction:()=>ge,filterHasLength:()=>fe,filterPlainObject:()=>me,filterPrimitives:()=>he,filterString:()=>ce,filterStringArray:()=>ue,filterStringOrStringArray:()=>le,filterType:()=>pe,first:()=>q,folderExists:()=>K,forEachLineWithContent:()=>W,getTrailingOptions:()=>Pe,including:()=>Q,isUserFunction:()=>B,last:()=>z,objectToString:()=>D,orVoid:()=>ie,parseStringResponse:()=>Fe,pick:()=>se,prefixedArray:()=>re,remove:()=>X,splitOn:()=>G,toLinesWithContent:()=>V,trailingFunctionArgument:()=>je,trailingOptionsArgument:()=>Re});var Le,$e,Ue,Ne=v({"src/lib/utils/index.ts"(){_e(),Ce(),Oe(),Te(),Ee(),Me(),De(),de()}}),Be={};function Ge(e){switch(e){case"bare":return ze();case"root":return qe()}return{commands:["rev-parse","--is-inside-work-tree"],format:"utf-8",onError:$e,parser:Ue}}function qe(){return{commands:["rev-parse","--git-dir"],format:"utf-8",onError:$e,parser:e=>/^\.(git)?$/.test(e.trim())}}function ze(){return{commands:["rev-parse","--is-bare-repository"],format:"utf-8",onError:$e,parser:Ue}}w(Be,{CheckRepoActions:()=>Le,checkIsBareRepoTask:()=>ze,checkIsRepoRootTask:()=>qe,checkIsRepoTask:()=>Ge});var He,Ve,We,Ke,Ye,Qe=v({"src/lib/tasks/check-is-repo.ts"(){Ne(),Le=(e=>(e.BARE="bare",e.IN_TREE="tree",e.IS_REPO_ROOT="root",e))(Le||{}),$e=({exitCode:e},t,r,n)=>{if(128===e&&function(e){return/(Not a git repository|Kein Git-Repository)/i.test(String(e))}(t))return r(Buffer.from("false"));n(t)},Ue=e=>"true"===e.trim()}}),Xe=v({"src/lib/responses/CleanSummary.ts"(){Ne(),He=class{constructor(e){this.dryRun=e,this.paths=[],this.files=[],this.folders=[]}},Ve=/^[a-z]+\s*/i,We=/^[a-z]+\s+[a-z]+\s*/i,Ke=/\/$/}}),Je={};function Ze(e){return{commands:Ye,format:"empty",parser:e}}function et(e){return{commands:Ye,format:"empty",parser(){throw"string"==typeof e?new j(e):e}}}function tt(e,t=!1){return{commands:e,format:"utf-8",parser:e=>t?String(e).trim():e}}function rt(e){return{commands:e,format:"buffer",parser:e=>e}}function nt(e){return"buffer"===e.format}function st(e){return"empty"===e.format||!e.commands.length}w(Je,{EMPTY_COMMANDS:()=>Ye,adhocExecTask:()=>Ze,configurationErrorTask:()=>et,isBufferTask:()=>nt,isEmptyTask:()=>st,straightThroughBufferTask:()=>rt,straightThroughStringTask:()=>tt});var ot,it,at,ct,ut,lt=v({"src/lib/tasks/task.ts"(){U(),Ye=[]}}),ft={};function dt(e,t){const{cleanMode:r,options:n,valid:s}=function(e){let t,r=[],n={cleanMode:!1,options:!0};return e.replace(/[^a-z]i/g,"").split("").forEach((e=>{var s;!function(e){return"f"===e||"n"===e}(e)?n.options=n.options&&(s=r[r.length]=`-${e}`,/^-[a-z]$/i.test(s)&&ut.has(s.charAt(1))):(t=e,n.cleanMode=!0)})),{cleanMode:t,options:r,valid:n}}(e);return r?s.options?(n.push(...t),n.some(mt)?et(ot):pt(r,n)):et(at+JSON.stringify(e)):et(it)}function pt(e,t){return{commands:["clean",`-${e}`,...t],format:"utf-8",parser:t=>function(e,t){const r=new He(e),n=e?We:Ve;return V(t).forEach((e=>{const t=e.replace(n,"");r.paths.push(t),(Ke.test(t)?r.folders:r.files).push(t)})),r}("n"===e,t)}}function ht(e){return Array.isArray(e)&&e.every((e=>ut.has(e)))}function mt(e){return/^-[^\-]/.test(e)?e.indexOf("i")>0:"--interactive"===e}w(ft,{CONFIG_ERROR_INTERACTIVE_MODE:()=>ot,CONFIG_ERROR_MODE_REQUIRED:()=>it,CONFIG_ERROR_UNKNOWN_OPTION:()=>at,CleanOptions:()=>ct,cleanTask:()=>pt,cleanWithOptionsTask:()=>dt,isCleanOptionsArray:()=>ht});var gt,bt=v({"src/lib/tasks/clean.ts"(){Xe(),Ne(),lt(),ot="Git clean interactive mode is not supported",it='Git clean mode parameter ("n" or "f") is required',at="Git clean unknown option found in: ",ct=(e=>(e.DRY_RUN="n",e.FORCE="f",e.IGNORED_INCLUDED="x",e.IGNORED_ONLY="X",e.EXCLUDING="e",e.QUIET="q",e.RECURSIVE="d",e))(ct||{}),ut=new Set(["i",...ee(Object.values(ct))])}});function*yt(e,t=null){const r=e.split("\0");for(let e=0,n=r.length-1;e<n;){const n=r[e++].replace(/^(file):/,"");let s=r[e++],o=t;if(s.includes("\n")){const e=G(s,"\n");o=e[0],s=e[1]}yield{file:n,key:o,value:s}}}var vt,wt=v({"src/lib/responses/ConfigList.ts"(){Ne(),gt=class{constructor(){this.files=[],this.values=Object.create(null)}get all(){return this._all||(this._all=this.files.reduce(((e,t)=>Object.assign(e,this.values[t])),{})),this._all}addFile(e){if(!(e in this.values)){const t=z(this.files);this.values[e]=t?Object.create(this.values[t]):{},this.files.push(e)}return this.values[e]}addValue(e,t,r){const n=this.addFile(e);n.hasOwnProperty(t)?Array.isArray(n[t])?n[t].push(r):n[t]=[n[t],r]:n[t]=r,this._all=void 0}}}});function kt(e,t){return"string"==typeof e&&vt.hasOwnProperty(e)?e:t}var _t,Ct,Ot,Tt,xt,Et,St=v({"src/lib/tasks/config.ts"(){wt(),Ne(),vt=(e=>(e.system="system",e.global="global",e.local="local",e.worktree="worktree",e))(vt||{})}}),Pt=v({"src/lib/tasks/diff-name-status.ts"(){_t=(e=>(e.ADDED="A",e.COPIED="C",e.DELETED="D",e.MODIFIED="M",e.RENAMED="R",e.CHANGED="T",e.UNMERGED="U",e.UNKNOWN="X",e.BROKEN="B",e))(_t||{}),Ct=new Set(Object.values(_t))}});function Rt(...e){return(new Et).param(...e)}var jt,Mt,At=v({"src/lib/tasks/grep.ts"(){Ne(),lt(),Ot=["-h"],Tt=Symbol("grepQuery"),Et=class{constructor(){this[xt]=[]}*[(xt=Tt,Symbol.iterator)](){for(const e of this[Tt])yield e}and(...e){return e.length&&this[Tt].push("--and","(",...re(e,"-e"),")"),this}param(...e){return this[Tt].push(...re(e,"-e")),this}}}}),Ft={};function Dt(e,t){const r=["reset"];return Lt(e)&&r.push(`--${e}`),r.push(...t),tt(r)}function It(e){if(Lt(e))return e;switch(typeof e){case"string":case"undefined":return"soft"}}function Lt(e){return Mt.includes(e)}w(Ft,{ResetMode:()=>jt,getResetMode:()=>It,resetTask:()=>Dt});var $t=v({"src/lib/tasks/reset.ts"(){lt(),jt=(e=>(e.MIXED="mixed",e.SOFT="soft",e.HARD="hard",e.MERGE="merge",e.KEEP="keep",e))(jt||{}),Mt=Array.from(Object.values(jt))}}),Ut={};w(Ut,{CheckRepoActions:()=>Le,CleanOptions:()=>ct,DiffNameStatus:()=>_t,GitConfigScope:()=>vt,GitConstructError:()=>P,GitError:()=>n,GitPluginError:()=>R,GitResponseError:()=>s,ResetMode:()=>jt,TaskConfigurationError:()=>j,grepQueryBuilder:()=>Rt,pathspec:()=>x});var Nt=v({"src/lib/api.ts"(){I(),L(),O(),$(),T(),U(),Qe(),bt(),St(),Pt(),At(),$t()}}),Bt=v({"src/lib/plugins/abort-plugin.ts"(){$()}});var Gt,qt,zt=v({"src/lib/plugins/block-unsafe-operations-plugin.ts"(){$()}}),Ht=v({"src/lib/plugins/command-config-prefixing-plugin.ts"(){Ne()}});var Vt,Wt,Kt=v({"src/lib/plugins/completion-detection.plugin.ts"(){Gt=r(100),Ne(),qt=(0,Gt.deferred)().promise}});function Yt(e){return!e||!/^([a-z]:)?([a-z0-9/.\\_-]+)$/i.test(e)}function Qt(e,t){if(e.length<1||e.length>2)throw new R(void 0,"binary",Vt);if(e.some(Yt)){if(!t)throw new R(void 0,"binary",Wt);console.warn(Wt)}const[r,n]=e;return{binary:r,prefix:n}}var Xt=v({"src/lib/plugins/custom-binary.plugin.ts"(){$(),Ne(),Vt="Invalid value supplied for custom binary, requires a single string or an array containing either one or two strings",Wt="Invalid value supplied for custom binary, restricted characters must be removed or supply the unsafe.allowUnsafeCustomBinary option"}});function Jt(e){return!(!e.exitCode||!e.stdErr.length)}function Zt(e){return Buffer.concat([...e.stdOut,...e.stdErr])}function er(e=!1,t=Jt,r=Zt){return(n,s)=>!e&&n||!t(s)?n:r(s)}function tr(e){return{type:"task.error",action(t,r){const s=e(t.error,{stdErr:r.stdErr,stdOut:r.stdOut,exitCode:r.exitCode});return Buffer.isBuffer(s)?{error:new n(void 0,s.toString("utf-8"))}:{error:s}}}}var rr,nr,sr,or=v({"src/lib/plugins/error-detection.plugin.ts"(){O()}}),ir=v({"src/lib/plugins/plugin-store.ts"(){rr=r(474),Ne(),nr=class{constructor(){this.plugins=new Set,this.events=new rr.EventEmitter}on(e,t){this.events.on(e,t)}reconfigure(e,t){this.events.emit(e,t)}append(e,t){const r=Y(this.plugins,{type:e,action:t});return()=>this.plugins.delete(r)}add(e){const t=[];return J(e).forEach((e=>e&&this.plugins.add(Y(t,e)))),()=>{t.forEach((e=>this.plugins.delete(e)))}}exec(e,t,r){let n=t;const s=Object.freeze(Object.create(r));for(const t of this.plugins)t.type===e&&(n=t.action(n,s));return n}}}}),ar=v({"src/lib/plugins/progress-monitor-plugin.ts"(){Ne()}}),cr=v({"src/lib/plugins/simple-git-plugin.ts"(){}}),ur=v({"src/lib/plugins/spawn-options-plugin.ts"(){Ne()}}),lr=v({"src/lib/plugins/timout-plugin.ts"(){$()}}),fr=v({"src/lib/plugins/index.ts"(){Bt(),zt(),Ht(),Kt(),Xt(),or(),ir(),ar(),cr(),ur(),lr()}}),dr=v({"src/lib/plugins/suffix-paths.plugin.ts"(){I()}});function pr(e,t,r){return t&&String(t).replace(/\s*/,"")?(n,...s)=>{e(`%s ${n}`,t,...s),r&&r(n,...s)}:r?(t,...n)=>{e(t,...n),r(t,...n)}:e}function hr(e,t,r,n=function(){return(0,sr.default)("simple-git")}()){const s=e&&`[${e}]`||"",o=[],i="string"==typeof t?n.extend(t):t,a=function(e,t,{namespace:r}){if("string"==typeof e)return e;const n=t&&t.namespace||"";return n.startsWith(r)?n.substr(r.length+1):n||r}(pe(t,ce),i,n);return function t(r){const o=r&&`[${r}]`||"",a=i&&pr(i,o)||F,u=pr(n,`${s} ${o}`,a);return Object.assign(i?a:u,{label:e,sibling:c,info:u,step:t})}(r);function c(t,r){return Y(o,hr(e,a.replace(/^[^:]+/,t),r,n))}}var mr,gr,br,yr,vr=v({"src/lib/git-logger.ts"(){var e,t;t=null!=(e=r(753))?i(p(e)):{},sr=k(e&&e.__esModule?t:a(t,"default",{value:e,enumerable:!0}),e),Ne(),sr.default.formatters.L=e=>String(fe(e)?e.length:"-"),sr.default.formatters.B=e=>Buffer.isBuffer(e)?e.toString("utf8"):D(e)}}),wr=v({"src/lib/runners/tasks-pending-queue.ts"(){O(),vr(),(gr=mr=class{constructor(e="GitExecutor"){this.logLabel=e,this._queue=new Map}withProgress(e){return this._queue.get(e)}createProgress(e){const t=mr.getName(e.commands[0]);return{task:e,logger:hr(this.logLabel,t),name:t}}push(e){const t=this.createProgress(e);return t.logger("Adding task to the queue, commands = %o",e.commands),this._queue.set(e,t),t}fatal(e){for(const[t,{logger:r}]of Array.from(this._queue.entries()))t===e.task?(r.info("Failed %o",e),r("Fatal exception, any as-yet un-started tasks run through this executor will not be attempted")):r.info("A fatal exception occurred in a previous task, the queue has been purged: %o",e.message),this.complete(t);if(0!==this._queue.size)throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}complete(e){this.withProgress(e)&&this._queue.delete(e)}attempt(e){const t=this.withProgress(e);if(!t)throw new n(void 0,"TasksPendingQueue: attempt called for an unknown task");return t.logger("Starting task"),t}static getName(e="empty"){return`task:${e}:${++mr.counter}`}}).counter=0}});function kr(e,t){return{method:q(e.commands)||"",commands:t}}function _r(e,t,r,n){return s=>{r("%s received %L bytes",t,s),n("%B",s),e.push(s)}}var Cr,Or=v({"src/lib/runners/git-executor-chain.ts"(){br=r(317),O(),lt(),Ne(),wr(),yr=class{constructor(e,t,r){this._executor=e,this._scheduler=t,this._plugins=r,this._chain=Promise.resolve(),this._queue=new gr}get cwd(){return this._cwd||this._executor.cwd}set cwd(e){this._cwd=e}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(e){return this._queue.push(e),this._chain=this._chain.then((()=>this.attemptTask(e)))}attemptTask(e){return C(this,null,(function*(){const t=yield this._scheduler.next(),r=()=>this._queue.complete(e);try{const{logger:t}=this._queue.attempt(e);return yield st(e)?this.attemptEmptyTask(e,t):this.attemptRemoteTask(e,t)}catch(t){throw this.onFatalException(e,t)}finally{r(),t()}}))}onFatalException(e,t){const r=t instanceof n?Object.assign(t,{task:e}):new n(e,t&&String(t));return this._chain=Promise.resolve(),this._queue.fatal(r),r}attemptRemoteTask(e,t){return C(this,null,(function*(){const r=this._plugins.exec("spawn.binary","",kr(e,e.commands)),n=this._plugins.exec("spawn.args",[...e.commands],kr(e,e.commands)),s=yield this.gitResponse(e,r,n,this.outputHandler,t.step("SPAWN")),o=yield this.handleTaskData(e,n,s,t.step("HANDLE"));return t("passing response to task's parser as a %s",e.format),nt(e)?Ae(e.parser,o):Ae(e.parser,o.asStrings())}))}attemptEmptyTask(e,t){return C(this,null,(function*(){return t("empty task bypassing child process to call to task's parser"),e.parser(this)}))}handleTaskData(e,t,r,n){const{exitCode:s,rejection:o,stdOut:i,stdErr:a}=r;return new Promise(((c,u)=>{n("Preparing to handle process response exitCode=%d stdOut=",s);const{error:l}=this._plugins.exec("task.error",{error:o},b(b({},kr(e,t)),r));return l&&e.onError?(n.info("exitCode=%s handling with custom error handler"),e.onError(r,l,(e=>{n.info("custom error handler treated as success"),n("custom error returned a %s",D(e)),c(new ye(Array.isArray(e)?Buffer.concat(e):e,Buffer.concat(a)))}),u)):l?(n.info("handling as error: exitCode=%s stdErr=%s rejection=%o",s,a.length,o),u(l)):(n.info("retrieving task output complete"),void c(new ye(Buffer.concat(i),Buffer.concat(a))))}))}gitResponse(e,t,r,n,s){return C(this,null,(function*(){const o=s.sibling("output"),i=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:!0},kr(e,e.commands));return new Promise((a=>{const c=[],u=[];s.info("%s %o",t,r),s("%O",i);let l=this._beforeSpawn(e,r);if(l)return a({stdOut:c,stdErr:u,exitCode:9901,rejection:l});this._plugins.exec("spawn.before",void 0,y(b({},kr(e,r)),{kill(e){l=e||l}}));const f=(0,br.spawn)(t,r,i);f.stdout.on("data",_r(c,"stdOut",s,o.step("stdOut"))),f.stderr.on("data",_r(u,"stdErr",s,o.step("stdErr"))),f.on("error",function(e,t){return r=>{t("[ERROR] child process exception %o",r),e.push(Buffer.from(String(r.stack),"ascii"))}}(u,s)),n&&(s("Passing child process stdOut/stdErr to custom outputHandler"),n(t,f.stdout,f.stderr,[...r])),this._plugins.exec("spawn.after",void 0,y(b({},kr(e,r)),{spawned:f,close(e,t){a({stdOut:c,stdErr:u,exitCode:e,rejection:l||t})},kill(e){f.killed||(l=e,f.kill("SIGINT"))}}))}))}))}_beforeSpawn(e,t){let r;return this._plugins.exec("spawn.before",void 0,y(b({},kr(e,t)),{kill(e){r=e||r}})),r}}}}),Tr={};w(Tr,{GitExecutor:()=>Cr});var xr=v({"src/lib/runners/git-executor.ts"(){Or(),Cr=class{constructor(e,t,r){this.cwd=e,this._scheduler=t,this._plugins=r,this._chain=new yr(this,this._scheduler,this._plugins)}chain(){return new yr(this,this._scheduler,this._plugins)}push(e){return this._chain.push(e)}}}});var Er=v({"src/lib/task-callback.ts"(){T(),Ne()}});function Sr(e,t){return Ze((r=>{if(!K(e))throw new Error(`Git.cwd: cannot change to non-directory "${e}"`);return(t||r).cwd=e}))}var Pr=v({"src/lib/tasks/change-working-directory.ts"(){Ne(),lt()}});function Rr(e){const t=["checkout",...e];return"-b"===t[1]&&t.includes("-B")&&(t[1]=X(t,"-B")),tt(t)}var jr,Mr,Ar=v({"src/lib/tasks/checkout.ts"(){Ne(),lt()}}),Fr=v({"src/lib/tasks/count-objects.ts"(){Ne(),jr=new ve(/([a-z-]+): (\d+)$/,((e,[t,r])=>{const n=Z(t);e.hasOwnProperty(n)&&(e[n]=te(r))}))}});function Dr(e){return Fe({author:null,branch:"",commit:"",root:!1,summary:{changes:0,insertions:0,deletions:0}},Mr,e)}var Ir=v({"src/lib/parsers/parse-commit.ts"(){Ne(),Mr=[new ve(/^\[([^\s]+)( \([^)]+\))? ([^\]]+)/,((e,[t,r,n])=>{e.branch=t,e.commit=n,e.root=!!r})),new ve(/\s*Author:\s(.+)/i,((e,[t])=>{const r=t.split("<"),n=r.pop();n&&n.includes("@")&&(e.author={email:n.substr(0,n.length-1),name:r.join("<").trim()})})),new ve(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,((e,[t,r,n])=>{e.summary.changes=parseInt(t,10)||0,e.summary.insertions=parseInt(r,10)||0,e.summary.deletions=parseInt(n,10)||0})),new ve(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,((e,[t,r,n])=>{e.summary.changes=parseInt(t,10)||0;const s=parseInt(r,10)||0;"-"===n?e.summary.deletions=s:"+"===n&&(e.summary.insertions=s)}))]}});var Lr,$r,Ur,Nr,Br=v({"src/lib/tasks/commit.ts"(){Ir(),Ne(),lt()}}),Gr=v({"src/lib/tasks/first-commit.ts"(){Ne(),lt()}}),qr=v({"src/lib/tasks/hash-object.ts"(){lt()}}),zr=v({"src/lib/responses/InitSummary.ts"(){Lr=class{constructor(e,t,r,n){this.bare=e,this.path=t,this.existing=r,this.gitDir=n}},$r=/^Init.+ repository in (.+)$/,Ur=/^Rein.+ in (.+)$/}});var Hr,Vr=v({"src/lib/tasks/init.ts"(){zr(),Nr="--bare"}});function Wr(e){for(let t=0;t<e.length;t++){const r=Hr.exec(e[t]);if(r)return`--${r[1]}`}return""}function Kr(e){return Hr.test(e)}var Yr,Qr,Xr,Jr,Zr,en,tn=v({"src/lib/args/log-format.ts"(){Hr=/^--(stat|numstat|name-only|name-status)(=|$)/}}),rn=v({"src/lib/responses/DiffSummary.ts"(){Yr=class{constructor(){this.changed=0,this.deletions=0,this.insertions=0,this.files=[]}}}});function nn(e=""){const t=en[e];return e=>Fe(new Yr,t,e,!1)}var sn,on,an,cn,un=v({"src/lib/parsers/parse-diff-summary.ts"(){tn(),rn(),Pt(),Ne(),Qr=[new ve(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/,((e,[t,r,n=""])=>{e.files.push({file:t.trim(),changes:te(r),insertions:n.replace(/[^+]/g,"").length,deletions:n.replace(/[^-]/g,"").length,binary:!1})})),new ve(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)/,((e,[t,r,n])=>{e.files.push({file:t.trim(),before:te(r),after:te(n),binary:!0})})),new ve(/(\d+) files? changed\s*((?:, \d+ [^,]+){0,2})/,((e,[t,r])=>{const n=/(\d+) i/.exec(r),s=/(\d+) d/.exec(r);e.changed=te(t),e.insertions=te(null==n?void 0:n[1]),e.deletions=te(null==s?void 0:s[1])}))],Xr=[new ve(/(\d+)\t(\d+)\t(.+)$/,((e,[t,r,n])=>{const s=te(t),o=te(r);e.changed++,e.insertions+=s,e.deletions+=o,e.files.push({file:n,changes:s+o,insertions:s,deletions:o,binary:!1})})),new ve(/-\t-\t(.+)$/,((e,[t])=>{e.changed++,e.files.push({file:t,after:0,before:0,binary:!0})}))],Jr=[new ve(/(.+)$/,((e,[t])=>{e.changed++,e.files.push({file:t,changes:0,insertions:0,deletions:0,binary:!1})}))],Zr=[new ve(/([ACDMRTUXB])([0-9]{0,3})\t(.[^\t]*)(\t(.[^\t]*))?$/,((e,[t,r,n,s,o])=>{var i;e.changed++,e.files.push({file:null!=o?o:n,changes:0,insertions:0,deletions:0,binary:!1,status:ie((i=t,Ct.has(i)&&t)),from:ie(!!o&&n!==o&&n),similarity:te(r)})}))],en={"":Qr,"--stat":Qr,"--numstat":Xr,"--name-status":Zr,"--name-only":Jr}}});function ln(e=an,t=cn,r=""){const n=nn(r);return function(r){const s=V(r.trim(),!1,sn).map((function(r){const s=r.split(on),o=function(e,t){return t.reduce(((t,r,n)=>(t[r]=e[n]||"",t)),Object.create({diff:null}))}(s[0].split(e),t);return s.length>1&&s[1].trim()&&(o.diff=n(s[1])),o}));return{all:s,latest:s.length&&s[0]||null,total:s.length}}}var fn=v({"src/lib/parsers/parse-list-log-summary.ts"(){Ne(),un(),tn(),sn="òòòòòò ",on=" òò",an=" ò ",cn=["hash","date","message","refs","author_name","author_email"]}}),dn={};function pn(e){let t=Wr(e);const r=["diff"];return""===t&&(t="--stat",r.push("--stat=4096")),r.push(...e),hn(r)||{commands:r,format:"utf-8",parser:nn(t)}}function hn(e){const t=e.filter(Kr);return t.length>1?et(`Summary flags are mutually exclusive - pick one of ${t.join(",")}`):t.length&&e.includes("-z")?et(`Summary flag ${t} parsing is not compatible with null termination option '-z'`):void 0}w(dn,{diffSummaryTask:()=>pn,validateLogFormatConfig:()=>hn});var mn,gn=v({"src/lib/tasks/diff.ts"(){tn(),un(),lt()}});function bn(e={},t=[]){const r=pe(e.splitter,ce,an),n=!he(e.format)&&e.format?e.format:{hash:"%H",date:!1===e.strictDate?"%ai":"%aI",message:"%s",refs:"%D",body:e.multiLine?"%B":"%b",author_name:!1!==e.mailMap?"%aN":"%an",author_email:!1!==e.mailMap?"%aE":"%ae"},[s,o]=function(e,t){const r=[],n=[];return Object.keys(e).forEach((t=>{r.push(t),n.push(String(e[t]))})),[r,n.join(t)]}(n,r),i=[],a=[`--pretty=format:${sn}${o}${on}`,...t],c=e.n||e["max-count"]||e.maxCount;if(c&&a.push(`--max-count=${c}`),e.from||e.to){const t=!1!==e.symmetric?"...":"..";i.push(`${e.from||""}${t}${e.to||""}`)}var u;return ce(e.file)&&a.push("--follow",x(e.file)),Se((u=e,Object.keys(u).reduce(((e,t)=>(t in mn||(e[t]=u[t]),e)),{})),a),{fields:s,splitter:r,commands:[...a,...i]}}var yn,vn,wn,kn,_n,Cn=v({"src/lib/tasks/log.ts"(){tn(),I(),fn(),Ne(),lt(),gn(),mn=(e=>(e[e["--pretty"]=0]="--pretty",e[e["max-count"]=1]="max-count",e[e.maxCount=2]="maxCount",e[e.n=3]="n",e[e.file=4]="file",e[e.format=5]="format",e[e.from=6]="from",e[e.to=7]="to",e[e.splitter=8]="splitter",e[e.symmetric=9]="symmetric",e[e.mailMap=10]="mailMap",e[e.multiLine=11]="multiLine",e[e.strictDate=12]="strictDate",e))(mn||{})}}),On=v({"src/lib/responses/MergeSummary.ts"(){yn=class{constructor(e,t=null,r){this.reason=e,this.file=t,this.meta=r}toString(){return`${this.file}:${this.reason}`}},vn=class{constructor(){this.conflicts=[],this.merges=[],this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){return this.conflicts.length?`CONFLICTS: ${this.conflicts.join(", ")}`:"OK"}}}}),Tn=v({"src/lib/responses/PullSummary.ts"(){wn=class{constructor(){this.remoteMessages={all:[]},this.created=[],this.deleted=[],this.files=[],this.deletions={},this.insertions={},this.summary={changes:0,deletions:0,insertions:0}}},kn=class{constructor(){this.remote="",this.hash={local:"",remote:""},this.branch={local:"",remote:""},this.message=""}toString(){return this.message}}}});function xn(e){return e.objects=e.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function En(e){const t=/^\s*(\d+)/.exec(e),r=/delta (\d+)/i.exec(e);return{count:te(t&&t[1]||"0"),delta:te(r&&r[1]||"0")}}var Sn,Pn,Rn=v({"src/lib/parsers/parse-remote-objects.ts"(){Ne(),_n=[new we(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,((e,[t,r])=>{const n=t.toLowerCase(),s=xn(e.remoteMessages);Object.assign(s,{[n]:te(r)})})),new we(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,((e,[t,r])=>{const n=t.toLowerCase(),s=xn(e.remoteMessages);Object.assign(s,{[n]:te(r)})})),new we(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,((e,[t,r,n])=>{const s=xn(e.remoteMessages);s.total=En(t),s.reused=En(r),s.packReused=te(n)}))]}});function jn(e,t){return Fe({remoteMessages:new Pn},Sn,t)}var Mn,An,Fn,Dn,In,Ln,$n,Un,Nn,Bn=v({"src/lib/parsers/parse-remote-messages.ts"(){Ne(),Rn(),Sn=[new we(/^remote:\s*(.+)$/,((e,[t])=>(e.remoteMessages.all.push(t.trim()),!1))),..._n,new we([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],((e,[t])=>{e.remoteMessages.pullRequestUrl=t})),new we([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],((e,[t,r,n])=>{e.remoteMessages.vulnerabilities={count:te(t),summary:r,url:n}}))],Pn=class{constructor(){this.all=[]}}}}),Gn=v({"src/lib/parsers/parse-pull.ts"(){Tn(),Ne(),Bn(),Mn=/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,An=/^(create|delete) mode \d+ (.+)/,Fn=[new ve(/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,((e,[t,r,n])=>{e.files.push(t),r&&(e.insertions[t]=r.length),n&&(e.deletions[t]=n.length)})),new ve(Mn,((e,[t,,r,,n])=>(void 0!==r||void 0!==n)&&(e.summary.changes=+t||0,e.summary.insertions=+r||0,e.summary.deletions=+n||0,!0))),new ve(An,((e,[t,r])=>{Y(e.files,r),Y("create"===t?e.created:e.deleted,r)}))],Dn=[new ve(/^from\s(.+)$/i,((e,[t])=>{e.remote=t})),new ve(/^fatal:\s(.+)$/,((e,[t])=>{e.message=t})),new ve(/([a-z0-9]+)\.\.([a-z0-9]+)\s+(\S+)\s+->\s+(\S+)$/,((e,[t,r,n,s])=>{e.branch.local=n,e.hash.local=t,e.branch.remote=s,e.hash.remote=r}))],In=(e,t)=>Fe(new wn,Fn,[e,t]),Ln=(e,t)=>Object.assign(new wn,In(e,t),jn(0,t))}}),qn=v({"src/lib/parsers/parse-merge.ts"(){On(),Ne(),Gn(),$n=[new ve(/^Auto-merging\s+(.+)$/,((e,[t])=>{e.merges.push(t)})),new ve(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,((e,[t,r])=>{e.conflicts.push(new yn(t,r))})),new ve(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,((e,[t,r,n])=>{e.conflicts.push(new yn(t,r,{deleteRef:n}))})),new ve(/^CONFLICT\s+\((.+)\):/,((e,[t])=>{e.conflicts.push(new yn(t,null))})),new ve(/^Automatic merge failed;\s+(.+)$/,((e,[t])=>{e.result=t}))],Un=(e,t)=>Object.assign(Nn(e,t),Ln(e,t)),Nn=e=>Fe(new vn,$n,e)}});function zn(e){return e.length?{commands:["merge",...e],format:"utf-8",parser(e,t){const r=Un(e,t);if(r.failed)throw new s(r);return r}}:et("Git.merge requires at least one option")}var Hn,Vn,Wn,Kn=v({"src/lib/tasks/merge.ts"(){T(),qn(),lt()}}),Yn=v({"src/lib/parsers/parse-push.ts"(){Ne(),Bn(),Hn=[new ve(/^Pushing to (.+)$/,((e,[t])=>{e.repo=t})),new ve(/^updating local tracking ref '(.+)'/,((e,[t])=>{e.ref=y(b({},e.ref||{}),{local:t})})),new ve(/^[=*-]\s+([^:]+):(\S+)\s+\[(.+)]$/,((e,[t,r,n])=>{e.pushed.push(function(e,t,r){const n=r.includes("deleted"),s=r.includes("tag")||/^refs\/tags/.test(e),o=!r.includes("new");return{deleted:n,tag:s,branch:!s,new:!o,alreadyUpdated:o,local:e,remote:t}}(t,r,n))})),new ve(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,((e,[t,r,n])=>{e.branch=y(b({},e.branch||{}),{local:t,remote:r,remoteName:n})})),new ve(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,((e,[t,r,n,s])=>{e.update={head:{local:t,remote:r},hash:{from:n,to:s}}}))],Vn=(e,t)=>{const r=Wn(e,t),n=jn(0,t);return b(b({},r),n)},Wn=(e,t)=>Fe({pushed:[]},Hn,[e,t])}}),Qn={};function Xn(e={},t){return Y(t,"--tags"),Jn(e,t)}function Jn(e={},t){const r=["push",...t];return e.branch&&r.splice(1,0,e.branch),e.remote&&r.splice(1,0,e.remote),X(r,"-v"),Y(r,"--verbose"),Y(r,"--porcelain"),{commands:r,format:"utf-8",parser:Vn}}w(Qn,{pushTagsTask:()=>Xn,pushTask:()=>Jn});var Zn,es,ts,rs,ns,ss=v({"src/lib/tasks/push.ts"(){Yn(),Ne()}}),os=v({"src/lib/tasks/show.ts"(){Ne(),lt()}}),is=v({"src/lib/responses/FileStatusSummary.ts"(){Zn=/^(.+)\0(.+)$/,es=class{constructor(e,t,r){if(this.path=e,this.index=t,this.working_dir=r,"R"===t||"R"===r){const t=Zn.exec(e)||[null,e,e];this.from=t[2]||"",this.path=t[1]||""}}}}});function as(e){const[t,r]=e.split(A);return{from:r||t,to:t}}function cs(e,t,r){return[`${e}${t}`,r]}function us(e,...t){return t.map((t=>cs(e,t,((e,t)=>Y(e.conflicted,t)))))}function ls(e,t){const r=t.trim();switch(" "){case r.charAt(2):return n(r.charAt(0),r.charAt(1),r.substr(3));case r.charAt(1):return n(" ",r.charAt(0),r.substr(2));default:return}function n(t,r,n){const s=`${t}${r}`,o=rs.get(s);o&&o(e,n),"##"!==s&&"!!"!==s&&e.files.push(new es(n,t,r))}}var fs,ds,ps,hs=v({"src/lib/responses/StatusSummary.ts"(){Ne(),is(),ts=class{constructor(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.ignored=void 0,this.modified=[],this.renamed=[],this.files=[],this.staged=[],this.ahead=0,this.behind=0,this.current=null,this.tracking=null,this.detached=!1,this.isClean=()=>!this.files.length}},rs=new Map([cs(" ","A",((e,t)=>Y(e.created,t))),cs(" ","D",((e,t)=>Y(e.deleted,t))),cs(" ","M",((e,t)=>Y(e.modified,t))),cs("A"," ",((e,t)=>Y(e.created,t)&&Y(e.staged,t))),cs("A","M",((e,t)=>Y(e.created,t)&&Y(e.staged,t)&&Y(e.modified,t))),cs("D"," ",((e,t)=>Y(e.deleted,t)&&Y(e.staged,t))),cs("M"," ",((e,t)=>Y(e.modified,t)&&Y(e.staged,t))),cs("M","M",((e,t)=>Y(e.modified,t)&&Y(e.staged,t))),cs("R"," ",((e,t)=>{Y(e.renamed,as(t))})),cs("R","M",((e,t)=>{const r=as(t);Y(e.renamed,r),Y(e.modified,r.to)})),cs("!","!",((e,t)=>{Y(e.ignored=e.ignored||[],t)})),cs("?","?",((e,t)=>Y(e.not_added,t))),...us("A","A","U"),...us("D","D","U"),...us("U","A","D","U"),["##",(e,t)=>{let r;r=/ahead (\d+)/.exec(t),e.ahead=r&&+r[1]||0,r=/behind (\d+)/.exec(t),e.behind=r&&+r[1]||0,r=/^(.+?(?=(?:\.{3}|\s|$)))/.exec(t),e.current=r&&r[1],r=/\.{3}(\S*)/.exec(t),e.tracking=r&&r[1],r=/\son\s([\S]+)$/.exec(t),e.current=r&&r[1]||e.current,e.detached=/\(no branch\)/.test(t)}]]),ns=function(e){const t=e.split(A),r=new ts;for(let e=0,n=t.length;e<n;){let n=t[e++].trim();n&&("R"===n.charAt(0)&&(n+=A+(t[e++]||"")),ls(r,n))}return r}}}),ms=v({"src/lib/tasks/status.ts"(){hs(),fs=["--null","-z"]}});function gs(e=0,t=0,r=0,n="",s=!0){return Object.defineProperty({major:e,minor:t,patch:r,agent:n,installed:s},"toString",{value(){return`${this.major}.${this.minor}.${this.patch}`},configurable:!1,enumerable:!1})}function bs(e){return e===ds?gs(0,0,0,"",!1):Fe(gs(0,0,0,e),ps,e)}var ys,vs=v({"src/lib/tasks/version.ts"(){Ne(),ds="installed=false",ps=[new ve(/version (\d+)\.(\d+)\.(\d+)(?:\s*\((.+)\))?/,((e,[t,r,n,s=""])=>{Object.assign(e,gs(te(t),te(r),te(n),s))})),new ve(/version (\d+)\.(\d+)\.(\D+)(.+)?$/,((e,[t,r,n,s=""])=>{Object.assign(e,gs(te(t),te(r),n,s))}))]}}),ws={};w(ws,{SimpleGitApi:()=>ys});var ks,_s,Cs,Os=v({"src/lib/simple-git-api.ts"(){Er(),Pr(),Ar(),Fr(),Br(),St(),Gr(),At(),qr(),Vr(),Cn(),Kn(),ss(),os(),ms(),lt(),vs(),Ne(),ys=class{constructor(e){this._executor=e}_runTask(e,t){const r=this._executor.chain(),n=r.push(e);return t&&function(e,t,r=F){t.then((e=>{r(null,e)}),(t=>{(null==t?void 0:t.task)===e&&r(t instanceof s?function(e){let t=e=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${e} should be GitResponseError.git.${e}, this will no longer be available in version 3`),t=F};return Object.create(e,Object.getOwnPropertyNames(e.git).reduce((function(r,n){return n in e||(r[n]={enumerable:!1,configurable:!1,get:()=>(t(n),e.git[n])}),r}),{}))}(t):t,void 0)}))}(e,n,t),Object.create(this,{then:{value:n.then.bind(n)},catch:{value:n.catch.bind(n)},_executor:{value:r}})}add(e){return this._runTask(tt(["add",...J(e)]),je(arguments))}cwd(e){const t=je(arguments);return"string"==typeof e?this._runTask(Sr(e,this._executor),t):"string"==typeof(null==e?void 0:e.path)?this._runTask(Sr(e.path,e.root&&this._executor||void 0),t):this._runTask(et("Git.cwd: workingDirectory must be supplied as a string"),t)}hashObject(e,t){return this._runTask(function(e,t){const r=["hash-object",e];return t&&r.push("-w"),tt(r,!0)}(e,!0===t),je(arguments))}init(e){return this._runTask(function(e=!1,t,r){const n=["init",...r];return e&&!n.includes(Nr)&&n.splice(1,0,Nr),{commands:n,format:"utf-8",parser:e=>function(e,t,r){const n=String(r).trim();let s;if(s=$r.exec(n))return new Lr(e,t,!1,s[1]);if(s=Ur.exec(n))return new Lr(e,t,!0,s[1]);let o="";const i=n.split(" ");for(;i.length;)if("in"===i.shift()){o=i.join(" ");break}return new Lr(e,t,/^re/i.test(n),o)}(n.includes("--bare"),t,e)}}(!0===e,this._executor.cwd,Pe(arguments)),je(arguments))}merge(){return this._runTask(zn(Pe(arguments)),je(arguments))}mergeFromTo(e,t){return ce(e)&&ce(t)?this._runTask(zn([e,t,...Pe(arguments)]),je(arguments,!1)):this._runTask(et("Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings"))}outputHandler(e){return this._executor.outputHandler=e,this}push(){const e=Jn({remote:pe(arguments[0],ce),branch:pe(arguments[1],ce)},Pe(arguments));return this._runTask(e,je(arguments))}stash(){return this._runTask(tt(["stash",...Pe(arguments)]),je(arguments))}status(){return this._runTask({format:"utf-8",commands:["status","--porcelain","-b","-u","--null",...Pe(arguments).filter((e=>!fs.includes(e)))],parser:e=>ns(e)},je(arguments))}},Object.assign(ys.prototype,{checkout(){return this._runTask(Rr(Pe(arguments,1)),je(arguments))},checkoutBranch(e,t){return this._runTask(Rr(["-b",e,t,...Pe(arguments)]),je(arguments))},checkoutLocalBranch(e){return this._runTask(Rr(["-b",e,...Pe(arguments)]),je(arguments))}},{commit(e,...t){const r=je(arguments),n=function(e){return!le(e)&&et("git.commit: requires the commit message to be supplied as a string/string[]")}(e)||function(e,t,r){return{commands:["-c","core.abbrev=40","commit",...re(e,"-m"),...t,...r],format:"utf-8",parser:Dr}}(J(e),J(pe(t[0],le,[])),[...pe(t[1],ae,[]),...Pe(arguments,0,!0)]);return this._runTask(n,r)}},{addConfig(e,t,...r){return this._runTask(function(e,t,r,n){const s=["config",`--${n}`];return r&&s.push("--add"),s.push(e,t),{commands:s,format:"utf-8",parser:e=>e}}(e,t,!0===r[0],kt(r[1],"local")),je(arguments))},getConfig(e,t){return this._runTask(function(e,t){const r=["config","--null","--show-origin","--get-all",e];return t&&r.splice(1,0,`--${t}`),{commands:r,format:"utf-8",parser:t=>function(e,t){let r=null;const n=[],s=new Map;for(const o of yt(e,t))o.key===t&&(n.push(r=o.value),s.has(o.file)||s.set(o.file,[]),s.get(o.file).push(r));return{key:t,paths:Array.from(s.keys()),scopes:s,value:r,values:n}}(t,e)}}(e,kt(t,void 0)),je(arguments))},listConfig(...e){return this._runTask(function(e){const t=["config","--list","--show-origin","--null"];return e&&t.push(`--${e}`),{commands:t,format:"utf-8",parser:e=>function(e){const t=new gt;for(const r of yt(e))t.addValue(r.file,String(r.key),r.value);return t}(e)}}(kt(e[0],void 0)),je(arguments))}},{countObjects(){return this._runTask({commands:["count-objects","--verbose"],format:"utf-8",parser:e=>Fe({count:0,garbage:0,inPack:0,packs:0,prunePackable:0,size:0,sizeGarbage:0,sizePack:0},[jr],e)})}},{firstCommit(){return this._runTask(tt(["rev-list","--max-parents=0","HEAD"],!0),je(arguments))}},{grep(e){const t=je(arguments),r=Pe(arguments);for(const e of Ot)if(r.includes(e))return this._runTask(et(`git.grep: use of "${e}" is not supported.`),t);"string"==typeof e&&(e=Rt().param(e));const n=["grep","--null","-n","--full-name",...r,...e];return this._runTask({commands:n,format:"utf-8",parser:e=>function(e){const t=new Set,r={};return W(e,(e=>{const[n,s,o]=e.split(A);t.add(n),(r[n]=r[n]||[]).push({line:te(s),path:n,preview:o})})),{paths:t,results:r}}(e)},t)}},{log(...e){const t=je(arguments),r=bn(Re(arguments),pe(arguments[0],ae)),n=function(e,t){return ce(e)&&ce(t)&&et("git.log(string, string) should be replaced with git.log({ from: string, to: string })")}(...e)||hn(r.commands)||function(e){return function(e,t,r){const n=ln(e,t,Wr(r));return{commands:["log",...r],format:"utf-8",parser:n}}(e.splitter,e.fields,e.commands)}(r);return this._runTask(n,t)}},{showBuffer(){const e=["show",...Pe(arguments,1)];return e.includes("--binary")||e.splice(1,0,"--binary"),this._runTask(rt(e),je(arguments))},show(){const e=["show",...Pe(arguments,1)];return this._runTask(tt(e),je(arguments))}},{version(){return this._runTask({commands:["--version"],format:"utf-8",parser:bs,onError(e,t,r,n){if(-2===e.exitCode)return r(Buffer.from(ds));n(t)}})}})}}),Ts={};w(Ts,{Scheduler:()=>Cs});var xs=v({"src/lib/runners/scheduler.ts"(){Ne(),ks=r(100),vr(),_s=(()=>{let e=0;return()=>{e++;const{promise:t,done:r}=(0,ks.createDeferred)();return{promise:t,done:r,id:e}}})(),Cs=class{constructor(e=2){this.concurrency=e,this.logger=hr("","scheduler"),this.pending=[],this.running=[],this.logger("Constructed, concurrency=%s",e)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency)return void this.logger("Schedule attempt ignored, pending=%s running=%s concurrency=%s",this.pending.length,this.running.length,this.concurrency);const e=Y(this.running,this.pending.shift());this.logger("Attempting id=%s",e.id),e.done((()=>{this.logger("Completing id=",e.id),X(this.running,e),this.schedule()}))}next(){const{promise:e,id:t}=Y(this.pending,_s());return this.logger("Scheduling id=%s",t),this.schedule(),e}}}}),Es={};function Ss(e,t){return tt(["apply",...t,...e])}w(Es,{applyPatchTask:()=>Ss});var Ps,Rs,js,Ms,As=v({"src/lib/tasks/apply-patch.ts"(){lt()}}),Fs=v({"src/lib/responses/BranchDeleteSummary.ts"(){Ps=class{constructor(){this.all=[],this.branches={},this.errors=[]}get success(){return!this.errors.length}}}});function Ds(e,t){return 1===t&&Rs.test(e)}var Is,Ls,$s=v({"src/lib/parsers/parse-branch-delete.ts"(){Fs(),Ne(),Rs=/^error[^']+'([^']+)'/m,js=[new ve(/(\S+)\s+\(\S+\s([^)]+)\)/,((e,[t,r])=>{const n=function(e,t){return{branch:e,hash:t,success:!0}}(t,r);e.all.push(n),e.branches[t]=n})),new ve(Rs,((e,[t])=>{const r=function(e){return{branch:e,hash:null,success:!1}}(t);e.errors.push(r),e.all.push(r),e.branches[t]=r}))],Ms=(e,t)=>Fe(new Ps,js,[e,t])}}),Us=v({"src/lib/responses/BranchSummary.ts"(){Is=class{constructor(){this.all=[],this.branches={},this.current="",this.detached=!1}push(e,t,r,n,s){"*"===e&&(this.detached=t,this.current=r),this.all.push(r),this.branches[r]={current:"*"===e,linkedWorkTree:"+"===e,name:r,commit:n,label:s}}}}});function Ns(e){return e?e.charAt(0):""}function Bs(e){return Fe(new Is,Ls,e)}var Gs=v({"src/lib/parsers/parse-branch.ts"(){Us(),Ne(),Ls=[new ve(/^([*+]\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,((e,[t,r,n,s])=>{e.push(Ns(t),!0,r,n,s)})),new ve(new RegExp("^([*+]\\s)?(\\S+)\\s+([a-z0-9]+)\\s?(.*)$","s"),((e,[t,r,n,s])=>{e.push(Ns(t),!1,r,n,s)}))]}}),qs={};function zs(e){const t=["-d","-D","--delete"];return e.some((e=>t.includes(e)))}function Hs(e){const t=zs(e),r=["branch",...e];return 1===r.length&&r.push("-a"),r.includes("-v")||r.splice(1,0,"-v"),{format:"utf-8",commands:r,parser:(e,r)=>t?Ms(e,r).all[0]:Bs(e)}}function Vs(){return{format:"utf-8",commands:["branch","-v"],parser:Bs}}function Ws(e,t=!1){return{format:"utf-8",commands:["branch","-v",t?"-D":"-d",...e],parser:(e,t)=>Ms(e,t),onError({exitCode:e,stdOut:t},r,n,s){if(!Ds(String(r),e))return s(r);n(t)}}}function Ks(e,t=!1){const r={format:"utf-8",commands:["branch","-v",t?"-D":"-d",e],parser:(t,r)=>Ms(t,r).branches[e],onError({exitCode:e,stdErr:t,stdOut:n},o,i,a){if(!Ds(String(o),e))return a(o);throw new s(r.parser(ne(n),ne(t)),String(o))}};return r}w(qs,{branchLocalTask:()=>Vs,branchTask:()=>Hs,containsDeleteBranchCommand:()=>zs,deleteBranchTask:()=>Ks,deleteBranchesTask:()=>Ws});var Ys,Qs=v({"src/lib/tasks/branch.ts"(){T(),$s(),Gs(),Ne()}}),Xs=v({"src/lib/responses/CheckIgnore.ts"(){Ys=e=>e.split(/\n/g).map((e=>e.trim())).filter((e=>!!e))}}),Js={};function Zs(e){return{commands:["check-ignore",...e],format:"utf-8",parser:Ys}}w(Js,{checkIgnoreTask:()=>Zs});var eo=v({"src/lib/tasks/check-ignore.ts"(){Xs()}}),to={};function ro(e){return/^--upload-pack(=|$)/.test(e)}function no(e,t,r){const n=["clone",...r];return ce(e)&&n.push(e),ce(t)&&n.push(t),n.find(ro)?et("git.fetch: potential exploit argument blocked."):tt(n)}function so(e,t,r){return Y(r,"--mirror"),no(e,t,r)}w(to,{cloneMirrorTask:()=>so,cloneTask:()=>no});var oo,io=v({"src/lib/tasks/clone.ts"(){lt(),Ne()}});function ao(e,t){return Fe({raw:e,remote:null,branches:[],tags:[],updated:[],deleted:[]},oo,[e,t])}var co=v({"src/lib/parsers/parse-fetch.ts"(){Ne(),oo=[new ve(/From (.+)$/,((e,[t])=>{e.remote=t})),new ve(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,((e,[t,r])=>{e.branches.push({name:t,tracking:r})})),new ve(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,((e,[t,r])=>{e.tags.push({name:t,tracking:r})})),new ve(/- \[deleted]\s+\S+\s*-> (.+)$/,((e,[t])=>{e.deleted.push({tracking:t})})),new ve(/\s*([^.]+)\.\.(\S+)\s+(\S+)\s*-> (.+)$/,((e,[t,r,n,s])=>{e.updated.push({name:n,tracking:s,to:r,from:t})}))]}}),uo={};function lo(e){return/^--upload-pack(=|$)/.test(e)}function fo(e,t,r){const n=["fetch",...r];return e&&t&&n.push(e,t),n.find(lo)?et("git.fetch: potential exploit argument blocked."):{commands:n,format:"utf-8",parser:ao}}w(uo,{fetchTask:()=>fo});var po,ho=v({"src/lib/tasks/fetch.ts"(){co(),lt()}});function mo(e){return Fe({moves:[]},po,e)}var go=v({"src/lib/parsers/parse-move.ts"(){Ne(),po=[new ve(/^Renaming (.+) to (.+)$/,((e,[t,r])=>{e.moves.push({from:t,to:r})}))]}}),bo={};function yo(e,t){return{commands:["mv","-v",...J(e),t],format:"utf-8",parser:mo}}w(bo,{moveTask:()=>yo});var vo=v({"src/lib/tasks/move.ts"(){go(),Ne()}}),wo={};function ko(e,t,r){const n=["pull",...r];return e&&t&&n.splice(1,0,e,t),{commands:n,format:"utf-8",parser:(e,t)=>Ln(e,t),onError(e,t,r,n){const o=function(e,t){const r=Fe(new kn,Dn,[e,t]);return r.message&&r}(ne(e.stdOut),ne(e.stdErr));if(o)return n(new s(o));n(t)}}}w(wo,{pullTask:()=>ko});var _o=v({"src/lib/tasks/pull.ts"(){T(),Gn(),Ne()}});function Co(e){const t={};return To(e,(([e])=>t[e]={name:e})),Object.values(t)}function Oo(e){const t={};return To(e,(([e,r,n])=>{t.hasOwnProperty(e)||(t[e]={name:e,refs:{fetch:"",push:""}}),n&&r&&(t[e].refs[n.replace(/[^a-z]/g,"")]=r)})),Object.values(t)}function To(e,t){W(e,(e=>t(e.split(/\s+/))))}var xo=v({"src/lib/responses/GetRemoteSummary.ts"(){Ne()}}),Eo={};function So(e,t,r){return tt(["remote","add",...r,e,t])}function Po(e){const t=["remote"];return e&&t.push("-v"),{commands:t,format:"utf-8",parser:e?Oo:Co}}function Ro(e){const t=[...e];return"ls-remote"!==t[0]&&t.unshift("ls-remote"),tt(t)}function jo(e){const t=[...e];return"remote"!==t[0]&&t.unshift("remote"),tt(t)}function Mo(e){return tt(["remote","remove",e])}w(Eo,{addRemoteTask:()=>So,getRemotesTask:()=>Po,listRemotesTask:()=>Ro,remoteTask:()=>jo,removeRemoteTask:()=>Mo});var Ao=v({"src/lib/tasks/remote.ts"(){xo(),lt()}}),Fo={};function Do(e={},t){const r=bn(e),n=["stash","list",...r.commands,...t],s=ln(r.splitter,r.fields,Wr(n));return hn(n)||{commands:n,format:"utf-8",parser:s}}w(Fo,{stashListTask:()=>Do});var Io=v({"src/lib/tasks/stash-list.ts"(){tn(),fn(),gn(),Cn()}}),Lo={};function $o(e,t){return No(["add",e,t])}function Uo(e){return No(["init",...e])}function No(e){const t=[...e];return"submodule"!==t[0]&&t.unshift("submodule"),tt(t)}function Bo(e){return No(["update",...e])}w(Lo,{addSubModuleTask:()=>$o,initSubModuleTask:()=>Uo,subModuleTask:()=>No,updateSubModuleTask:()=>Bo});var Go,qo,zo=v({"src/lib/tasks/sub-module.ts"(){lt()}});function Ho(e,t){return e===t?0:e>t?1:-1}function Vo(e){return e.trim()}function Wo(e){return"string"==typeof e&&parseInt(e.replace(/^\D+/g,""),10)||0}var Ko=v({"src/lib/responses/TagList.ts"(){Go=class{constructor(e,t){this.all=e,this.latest=t}},qo=function(e,t=!1){const r=e.split("\n").map(Vo).filter(Boolean);t||r.sort((function(e,t){const r=e.split("."),n=t.split(".");if(1===r.length||1===n.length)return function(e,t){const r=isNaN(e);return r!==isNaN(t)?r?1:-1:r?Ho(e,t):0}(Wo(r[0]),Wo(n[0]));for(let e=0,t=Math.max(r.length,n.length);e<t;e++){const t=Ho(Wo(r[e]),Wo(n[e]));if(t)return t}return 0}));const n=t?r[0]:[...r].reverse().find((e=>e.indexOf(".")>=0));return new Go(r,n)}}}),Yo={};function Qo(e=[]){const t=e.some((e=>/^--sort=/.test(e)));return{format:"utf-8",commands:["tag","-l",...e],parser:e=>qo(e,t)}}function Xo(e){return{format:"utf-8",commands:["tag",e],parser:()=>({name:e})}}function Jo(e,t){return{format:"utf-8",commands:["tag","-a","-m",t,e],parser:()=>({name:e})}}w(Yo,{addAnnotatedTagTask:()=>Jo,addTagTask:()=>Xo,tagListTask:()=>Qo});var Zo,ei,ti,ri=v({"src/lib/tasks/tag.ts"(){Ko()}}),ni=(Zo={"src/git.js"(e,t){var{GitExecutor:r}=(xr(),_(Tr)),{SimpleGitApi:n}=(Os(),_(ws)),{Scheduler:s}=(xs(),_(Ts)),{configurationErrorTask:o}=(lt(),_(Je)),{asArray:i,filterArray:a,filterPrimitives:c,filterString:u,filterStringOrStringArray:l,filterType:f,getTrailingOptions:d,trailingFunctionArgument:p,trailingOptionsArgument:h}=(Ne(),_(Ie)),{applyPatchTask:m}=(As(),_(Es)),{branchTask:g,branchLocalTask:b,deleteBranchesTask:y,deleteBranchTask:v}=(Qs(),_(qs)),{checkIgnoreTask:w}=(eo(),_(Js)),{checkIsRepoTask:k}=(Qe(),_(Be)),{cloneTask:C,cloneMirrorTask:O}=(io(),_(to)),{cleanWithOptionsTask:T,isCleanOptionsArray:x}=(bt(),_(ft)),{diffSummaryTask:E}=(gn(),_(dn)),{fetchTask:S}=(ho(),_(uo)),{moveTask:P}=(vo(),_(bo)),{pullTask:R}=(_o(),_(wo)),{pushTagsTask:j}=(ss(),_(Qn)),{addRemoteTask:M,getRemotesTask:A,listRemotesTask:F,remoteTask:D,removeRemoteTask:I}=(Ao(),_(Eo)),{getResetMode:L,resetTask:$}=($t(),_(Ft)),{stashListTask:U}=(Io(),_(Fo)),{addSubModuleTask:N,initSubModuleTask:B,subModuleTask:G,updateSubModuleTask:q}=(zo(),_(Lo)),{addAnnotatedTagTask:z,addTagTask:H,tagListTask:V}=(ri(),_(Yo)),{straightThroughBufferTask:W,straightThroughStringTask:K}=(lt(),_(Je));function Y(e,t){this._plugins=t,this._executor=new r(e.baseDir,new s(e.maxConcurrentProcesses),t),this._trimmed=e.trimmed}function Q(e,t,r,n){return"string"!=typeof r?o(`git.${e}() requires a string 'repoPath'`):t(r,f(n,u),d(arguments))}(Y.prototype=Object.create(n.prototype)).constructor=Y,Y.prototype.customBinary=function(e){return this._plugins.reconfigure("binary",e),this},Y.prototype.env=function(e,t){return 1===arguments.length&&"object"==typeof e?this._executor.env=e:(this._executor.env=this._executor.env||{})[e]=t,this},Y.prototype.stashList=function(e){return this._runTask(U(h(arguments)||{},a(e)&&e||[]),p(arguments))},Y.prototype.clone=function(){return this._runTask(Q("clone",C,...arguments),p(arguments))},Y.prototype.mirror=function(){return this._runTask(Q("mirror",O,...arguments),p(arguments))},Y.prototype.mv=function(e,t){return this._runTask(P(e,t),p(arguments))},Y.prototype.checkoutLatestTag=function(e){var t=this;return this.pull((function(){t.tags((function(r,n){t.checkout(n.latest,e)}))}))},Y.prototype.pull=function(e,t,r,n){return this._runTask(R(f(e,u),f(t,u),d(arguments)),p(arguments))},Y.prototype.fetch=function(e,t){return this._runTask(S(f(e,u),f(t,u),d(arguments)),p(arguments))},Y.prototype.silent=function(e){return console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3"),this},Y.prototype.tags=function(e,t){return this._runTask(V(d(arguments)),p(arguments))},Y.prototype.rebase=function(){return this._runTask(K(["rebase",...d(arguments)]),p(arguments))},Y.prototype.reset=function(e){return this._runTask($(L(e),d(arguments)),p(arguments))},Y.prototype.revert=function(e){const t=p(arguments);return"string"!=typeof e?this._runTask(o("Commit must be a string"),t):this._runTask(K(["revert",...d(arguments,0,!0),e]),t)},Y.prototype.addTag=function(e){const t="string"==typeof e?H(e):o("Git.addTag requires a tag name");return this._runTask(t,p(arguments))},Y.prototype.addAnnotatedTag=function(e,t){return this._runTask(z(e,t),p(arguments))},Y.prototype.deleteLocalBranch=function(e,t,r){return this._runTask(v(e,"boolean"==typeof t&&t),p(arguments))},Y.prototype.deleteLocalBranches=function(e,t,r){return this._runTask(y(e,"boolean"==typeof t&&t),p(arguments))},Y.prototype.branch=function(e,t){return this._runTask(g(d(arguments)),p(arguments))},Y.prototype.branchLocal=function(e){return this._runTask(b(),p(arguments))},Y.prototype.raw=function(e){const t=!Array.isArray(e),r=[].slice.call(t?arguments:e,0);for(let e=0;e<r.length&&t;e++)if(!c(r[e])){r.splice(e,r.length-e);break}r.push(...d(arguments,0,!0));var n=p(arguments);return r.length?this._runTask(K(r,this._trimmed),n):this._runTask(o("Raw: must supply one or more command to execute"),n)},Y.prototype.submoduleAdd=function(e,t,r){return this._runTask(N(e,t),p(arguments))},Y.prototype.submoduleUpdate=function(e,t){return this._runTask(q(d(arguments,!0)),p(arguments))},Y.prototype.submoduleInit=function(e,t){return this._runTask(B(d(arguments,!0)),p(arguments))},Y.prototype.subModule=function(e,t){return this._runTask(G(d(arguments)),p(arguments))},Y.prototype.listRemote=function(){return this._runTask(F(d(arguments)),p(arguments))},Y.prototype.addRemote=function(e,t,r){return this._runTask(M(e,t,d(arguments)),p(arguments))},Y.prototype.removeRemote=function(e,t){return this._runTask(I(e),p(arguments))},Y.prototype.getRemotes=function(e,t){return this._runTask(A(!0===e),p(arguments))},Y.prototype.remote=function(e,t){return this._runTask(D(d(arguments)),p(arguments))},Y.prototype.tag=function(e,t){const r=d(arguments);return"tag"!==r[0]&&r.unshift("tag"),this._runTask(K(r),p(arguments))},Y.prototype.updateServerInfo=function(e){return this._runTask(K(["update-server-info"]),p(arguments))},Y.prototype.pushTags=function(e,t){const r=j({remote:f(e,u)},d(arguments));return this._runTask(r,p(arguments))},Y.prototype.rm=function(e){return this._runTask(K(["rm","-f",...i(e)]),p(arguments))},Y.prototype.rmKeepLocal=function(e){return this._runTask(K(["rm","--cached",...i(e)]),p(arguments))},Y.prototype.catFile=function(e,t){return this._catFile("utf-8",arguments)},Y.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)},Y.prototype._catFile=function(e,t){var r=p(t),n=["cat-file"],s=t[0];if("string"==typeof s)return this._runTask(o("Git.catFile: options must be supplied as an array of strings"),r);Array.isArray(s)&&n.push.apply(n,s);const i="buffer"===e?W(n):K(n);return this._runTask(i,r)},Y.prototype.diff=function(e,t){const r=u(e)?o("git.diff: supplying options as a single string is no longer supported, switch to an array of strings"):K(["diff",...d(arguments)]);return this._runTask(r,p(arguments))},Y.prototype.diffSummary=function(){return this._runTask(E(d(arguments,1)),p(arguments))},Y.prototype.applyPatch=function(e){const t=l(e)?m(i(e),d([].slice.call(arguments,1))):o("git.applyPatch requires one or more string patches as the first argument");return this._runTask(t,p(arguments))},Y.prototype.revparse=function(){const e=["rev-parse",...d(arguments,!0)];return this._runTask(K(e,!0),p(arguments))},Y.prototype.clean=function(e,t,r){const n=x(e),s=n&&e.join("")||f(e,u)||"",o=d([].slice.call(arguments,n?1:0));return this._runTask(T(s,o),p(arguments))},Y.prototype.exec=function(e){const t={commands:[],format:"utf-8",parser(){"function"==typeof e&&e()}};return this._runTask(t)},Y.prototype.clearQueue=function(){return this},Y.prototype.checkIgnore=function(e,t){return this._runTask(w(i(f(e,l,[]))),p(arguments))},Y.prototype.checkIsRepo=function(e,t){return this._runTask(k(f(e,u)),p(arguments))},t.exports=Y}},function(){return ei||(0,Zo[f(Zo)[0]])((ei={exports:{}}).exports,ei),ei.exports}),si={};function oi(e){return Object.defineProperties(e,{__esModule:{value:!0},default:{value:e}})}function ii(e){return Object.assign(e.bind(null),Ut)}function ai(e,t){var r;const n=new nr,s=xe(e&&("string"==typeof e?{baseDir:e}:e)||{},t);if(!K(s.baseDir))throw new P(s,"Cannot use simple-git on a directory that does not exist");return Array.isArray(s.config)&&n.add(function(e){const t=re(e,"-c");return{type:"spawn.args",action:e=>[...t,...e]}}(s.config)),n.add(function({allowUnsafeProtocolOverride:e=!1,allowUnsafePack:t=!1}={}){return{type:"spawn.args",action:(r,n)=>(r.forEach(((s,o)=>{const i=o<r.length?r[o+1]:"";e||function(e,t){if(function(e){return"string"==typeof e&&"-c"===e.trim().toLowerCase()}(e)&&/^\s*protocol(.[a-z]+)?.allow/.test(t))throw new R(void 0,"unsafe","Configuring protocol.allow is not permitted without enabling allowUnsafeExtProtocol")}(s,i),t||function(e,t){if(/^\s*--(upload|receive)-pack/.test(e))throw new R(void 0,"unsafe","Use of --upload-pack or --receive-pack is not permitted without enabling allowUnsafePack");if("clone"===t&&/^\s*-u\b/.test(e))throw new R(void 0,"unsafe","Use of clone with option -u is not permitted without enabling allowUnsafePack");if("push"===t&&/^\s*--exec\b/.test(e))throw new R(void 0,"unsafe","Use of push with option --exec is not permitted without enabling allowUnsafePack")}(s,n.method)})),r)}}(s.unsafe)),n.add({type:"spawn.args",action(e){const t=[];let r;function n(e){(r=r||[]).push(...e)}for(let r=0;r<e.length;r++){const s=e[r];if(E(s))n(S(s));else{if("--"===s){n(e.slice(r+1).flatMap((e=>E(e)&&S(e)||e)));break}t.push(s)}}return r?[...t,"--",...r.map(String)]:t}}),n.add(function({onClose:e=!0,onExit:t=50}={}){function r(e,t,r){!1!==e&&(!0===e?t.promise:t.promise.then((()=>oe(e)))).then(r.done)}return{type:"spawn.after",action(n,s){return C(this,arguments,(function*(n,{spawned:s,close:o}){var i,a;const c=function(){let n=-1;const s={close:(0,Gt.deferred)(),closeTimeout:(0,Gt.deferred)(),exit:(0,Gt.deferred)(),exitTimeout:(0,Gt.deferred)()},o=Promise.race([!1===e?qt:s.closeTimeout.promise,!1===t?qt:s.exitTimeout.promise]);return r(e,s.close,s.closeTimeout),r(t,s.exit,s.exitTimeout),{close(e){n=e,s.close.done()},exit(e){n=e,s.exit.done()},get exitCode(){return n},result:o}}();let u=!0,l=()=>{u=!1};null==(i=s.stdout)||i.on("data",l),null==(a=s.stderr)||a.on("data",l),s.on("error",l),s.on("close",(e=>c.close(e))),s.on("exit",(e=>c.exit(e)));try{yield c.result,u&&(yield oe(50)),o(c.exitCode)}catch(e){o(c.exitCode,e)}}))}}}(s.completion)),s.abort&&n.add(function(e){if(!e)return;const t={type:"spawn.after",action(t,r){function n(){r.kill(new R(void 0,"abort","Abort signal received"))}e.addEventListener("abort",n),r.spawned.on("close",(()=>e.removeEventListener("abort",n)))}};return[{type:"spawn.before",action(t,r){e.aborted&&r.kill(new R(void 0,"abort","Abort already signaled"))}},t]}(s.abort)),s.progress&&n.add(function(e){const t="--progress",r=["checkout","clone","fetch","pull","push"];return[{type:"spawn.args",action:(e,n)=>r.includes(n.method)?Q(e,t):e},{type:"spawn.after",action(r,n){var s;n.commands.includes(t)&&(null==(s=n.spawned.stderr)||s.on("data",(t=>{const r=/^([\s\S]+?):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(t.toString("utf8"));var s;r&&e({method:n.method,stage:(s=r[1],String(s.toLowerCase().split(" ",1))||"unknown"),progress:te(r[2]),processed:te(r[3]),total:te(r[4])})})))}}]}(s.progress)),s.timeout&&n.add(function({block:e,stdErr:t=!0,stdOut:r=!0}){if(e>0)return{type:"spawn.after",action(n,s){var o,i;let a;function c(){a&&clearTimeout(a),a=setTimeout(l,e)}function u(){var e,t;null==(e=s.spawned.stdout)||e.off("data",c),null==(t=s.spawned.stderr)||t.off("data",c),s.spawned.off("exit",u),s.spawned.off("close",u),a&&clearTimeout(a)}function l(){u(),s.kill(new R(void 0,"timeout","block timeout reached"))}r&&(null==(o=s.spawned.stdout)||o.on("data",c)),t&&(null==(i=s.spawned.stderr)||i.on("data",c)),s.spawned.on("exit",u),s.spawned.on("close",u),c()}}}(s.timeout)),s.spawnOptions&&n.add(function(e){const t=se(e,["uid","gid"]);return{type:"spawn.options",action:e=>b(b({},t),e)}}(s.spawnOptions)),n.add(tr(er(!0))),s.errors&&n.add(tr(s.errors)),function(e,t=["git"],r=!1){let n=Qt(J(t),r);e.on("binary",(e=>{n=Qt(J(e),r)})),e.append("spawn.binary",(()=>n.binary)),e.append("spawn.args",(e=>n.prefix?[n.prefix,...e]:e))}(n,s.binary,null==(r=s.unsafe)?void 0:r.allowUnsafeCustomBinary),new ti(s,n)}w(si,{esModuleFactory:()=>oi,gitExportFactory:()=>ii,gitInstanceFactory:()=>ai});var ci,ui,li=v({"src/lib/git-factory.ts"(){Nt(),fr(),dr(),Ne(),ti=ni()}}),fi={};function di(...e){let t,r=Promise.resolve();try{t=ai(...e)}catch(e){r=Promise.reject(e)}function n(){return i}function o(){return r}const i=[...ci,...ui].reduce(((e,i)=>{const a=ui.includes(i),c=a?(u=i,l=t,function(...e){if("function"==typeof e[e.length])throw new TypeError("Promise interface requires that handlers are not supplied inline, trailing function not allowed in call to "+u);return r.then((function(){return new Promise((function(t,r){e.push(((e,n)=>{if(e)return r((o=e)instanceof Error?o:"string"==typeof o?new Error(o):new s(o));var o;t(n)})),l[u].apply(l,e)}))}))}):function(e,t,r){return(...n)=>(t[e](...n),r)}(i,t,e);var u,l;const f=a?o:n;return Object.defineProperty(e,i,{enumerable:!1,configurable:!1,value:t?c:f}),e}),{});return i}w(fi,{gitP:()=>di});var pi=v({"src/lib/runners/promise-wrapped.ts"(){T(),li(),ci=["customBinary","env","outputHandler","silent"],ui=["add","addAnnotatedTag","addConfig","addRemote","addTag","applyPatch","binaryCatFile","branch","branchLocal","catFile","checkIgnore","checkIsRepo","checkout","checkoutBranch","checkoutLatestTag","checkoutLocalBranch","clean","clone","commit","cwd","deleteLocalBranch","deleteLocalBranches","diff","diffSummary","exec","fetch","getRemotes","init","listConfig","listRemote","log","merge","mergeFromTo","mirror","mv","pull","push","pushTags","raw","rebase","remote","removeRemote","reset","revert","revparse","rm","rmKeepLocal","show","stash","stashList","status","subModule","submoduleAdd","submoduleInit","submoduleUpdate","tag","tags","updateServerInfo"]}}),{gitP:hi}=(pi(),_(fi)),{esModuleFactory:mi,gitInstanceFactory:gi,gitExportFactory:bi}=(li(),_(si)),yi=mi(bi(gi));e.exports=Object.assign(yi,{gitP:hi,simpleGit:yi})},730:function(e,t,r){"use strict";var n,s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),i=0;i<r.length;i++)"default"!==r[i]&&s(t,e,r[i]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ReviewController=void 0;const a=i(r(398)),c=r(509),u=r(486),l=r(337);t.ReviewController=class{context;store;constructor(e){this.context=e,this.store=new l.ReviewStore(e)}async showReviewPanel(){console.log("Git root: showReviewPanel");const e=a.window.activeTextEditor;if(!e)return;const t=e.document,r=e.selection;let n="Unknown";try{n=await c.GitHelper.getLineCommitter(t.uri.fsPath,r.start.line+1)}catch(e){console.error("Failed to get committer:",e),n="Unknown"}const s={filePath:t.uri.fsPath,startLine:r.start.line+1,endLine:r.end.line+1,codeContent:t.getText(r),committer:n},o=this.store.getAllComments();u.ReviewPanel.show(this.context,s,o)}}},736:(e,t,r)=>{e.exports=function(e){function t(e){let r,s,o,i=null;function a(...e){if(!a.enabled)return;const n=a,s=Number(new Date),o=s-(r||s);n.diff=o,n.prev=r,n.curr=s,r=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,s)=>{if("%%"===r)return"%";i++;const o=t.formatters[s];if("function"==typeof o){const t=e[i];r=o.call(n,t),e.splice(i,1),i--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(s!==t.namespaces&&(s=t.namespaces,o=t.enabled(e)),o),set:e=>{i=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function s(e,t){let r=0,n=0,s=-1,o=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(s=n,o=r,n++):(r++,n++);else{if(-1===s)return!1;n=s+1,o++,r=o}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names,...t.skips.map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const e of r)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const r of t.skips)if(s(e,r))return!1;for(const r of t.names)if(s(e,r))return!0;return!1},t.humanize=r(585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},753:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(833):e.exports=r(33)},766:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(982);t.default=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),(0,n.createHash)("sha1").update(e).digest()}},827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=t.validate=t.v7=t.v6ToV1=t.v6=t.v5=t.v4=t.v3=t.v1ToV6=t.v1=t.stringify=t.parse=t.NIL=t.MAX=void 0;var n=r(609);Object.defineProperty(t,"MAX",{enumerable:!0,get:function(){return n.default}});var s=r(588);Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}});var o=r(524);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return o.default}});var i=r(202);Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.default}});var a=r(458);Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return a.default}});var c=r(891);Object.defineProperty(t,"v1ToV6",{enumerable:!0,get:function(){return c.default}});var u=r(32);Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return u.default}});var l=r(597);Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return l.default}});var f=r(502);Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return f.default}});var d=r(971);Object.defineProperty(t,"v6",{enumerable:!0,get:function(){return d.default}});var p=r(959);Object.defineProperty(t,"v6ToV1",{enumerable:!0,get:function(){return p.default}});var h=r(508);Object.defineProperty(t,"v7",{enumerable:!0,get:function(){return h.default}});var m=r(873);Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return m.default}});var g=r(547);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return g.default}})},833:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,s=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(s=n))})),t.splice(s,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(736)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},873:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(596);t.default=function(e){return"string"==typeof e&&n.default.test(e)}},891:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(524),s=r(202);t.default=function(e){const t=(r="string"==typeof e?(0,n.default)(e):e,Uint8Array.of((15&r[6])<<4|r[7]>>4&15,(15&r[7])<<4|(240&r[4])>>4,(15&r[4])<<4|(240&r[5])>>4,(15&r[5])<<4|(240&r[0])>>4,(15&r[0])<<4|(240&r[1])>>4,(15&r[1])<<4|(240&r[2])>>4,96|15&r[2],r[3],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]));var r;return"string"==typeof e?(0,s.unsafeStringify)(t):t}},896:e=>{"use strict";e.exports=require("fs")},926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(423))},928:e=>{"use strict";e.exports=require("path")},942:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(982),s=new Uint8Array(256);let o=s.length;t.default=function(){return o>s.length-16&&((0,n.randomFillSync)(s),o=0),s.slice(o,o+=16)}},959:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(524),s=r(202);t.default=function(e){const t=(r="string"==typeof e?(0,n.default)(e):e,Uint8Array.of((15&r[3])<<4|r[4]>>4&15,(15&r[4])<<4|(240&r[5])>>4,(15&r[5])<<4|15&r[6],r[7],(15&r[1])<<4|(240&r[2])>>4,(15&r[2])<<4|(240&r[3])>>4,16|(240&r[0])>>4,(15&r[0])<<4|(240&r[1])>>4,r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]));var r;return"string"==typeof e?(0,s.unsafeStringify)(t):t}},971:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(202),s=r(458),o=r(891);t.default=function(e,t,r){e??={},r??=0;let i=(0,s.default)({...e,_v6:!0},new Uint8Array(16));if(i=(0,o.default)(i),t){for(let e=0;e<16;e++)t[r+e]=i[e];return t}return(0,n.unsafeStringify)(i)}},982:e=>{"use strict";e.exports=require("crypto")}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=r(265);module.exports=n})();